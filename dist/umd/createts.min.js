!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.createts=e():t.createts=e()}(window,(function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=12)}([function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.calclate=function(t){return t},t}();e.Linear=n;var s=function(){function t(t){this.pow=t}return t.prototype.calclate=function(t){return Math.pow(t,this.pow)},t}();e.PowIn=s;var a=function(){function t(t){this.pow=t}return t.prototype.calclate=function(t){return 1-Math.pow(1-t,this.pow)},t}();e.PowOut=a;var h=function(){function t(t){this.pow=t}return t.prototype.calclate=function(t){return(t*=2)<1?.5*Math.pow(t,this.pow):1-.5*Math.abs(Math.pow(2-t,this.pow))},t}();e.PowInOut=h;var u=function(){function t(){}return t.prototype.calclate=function(t){return 1-Math.cos(t*Math.PI/2)},t}();e.SineIn=u;var c=function(){function t(){}return t.prototype.calclate=function(t){return Math.sin(t*Math.PI/2)},t}();e.SineOut=c;var l=function(){function t(){}return t.prototype.calclate=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t}();e.SineInOut=l;var p=function(){function t(t){this.amount=t}return t.prototype.calclate=function(t){return t*t*((this.amount+1)*t-this.amount)},t}();e.BackIn=p;var f=function(){function t(t){this.amount=t}return t.prototype.calclate=function(t){return--t*t*((this.amount+1)*t+this.amount)+1},t}();e.BackOut=f;var d=function(){function t(t){this.amount=t}return t.prototype.calclate=function(t){return(t*=2)<1?t*t*((this.amount+1)*t-this.amount)*.5:.5*((t-=2)*t*((this.amount+1)*t+this.amount)+2)},t}();e.BackInOut=d;var g=function(){function t(){}return t.prototype.calclate=function(t){return-(Math.sqrt(1-t*t)-1)},t}();e.CircIn=g;var E=function(){function t(){}return t.prototype.calclate=function(t){return Math.sqrt(1- --t*t)},t}();e.CircOut=E;var y=function(){function t(){}return t.prototype.calclate=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t}();e.CircInOut=y;var v=function(){function t(){}return t.prototype.calclateOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t}(),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.calclate=function(e){return t.prototype.calclateOut.call(this,e)},e}(v);e.BounceOut=A;var R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.calclate=function(e){return 1-t.prototype.calclateOut.call(this,1-e)},e}(v);e.BounceIn=R;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.calclate=function(e){return e<.5?.5*t.prototype.calclate.call(this,2*e):.5*t.prototype.calclateOut.call(this,2*e-1)+.5},e}(R);e.BounceInOut=m;var T=2*Math.PI,b=function(){function t(t,e){this.amplitude=t,this.period=e,this.s=this.period/T*Math.asin(1/this.amplitude)}return t.prototype.calclate=function(t){return 0===t||1===t?t:-this.amplitude*Math.pow(2,10*(t-=1))*Math.sin((t-this.s)*T/this.period)},t}();e.ElasticIn=b;var L=function(){function t(t,e){this.amplitude=t,this.period=e,this.s=this.period/T*Math.asin(1/this.amplitude)}return t.prototype.calclate=function(t){return 0===t||1===t?t:this.amplitude*Math.pow(2,-10*t)*Math.sin((t-this.s)*T/this.period)+1},t}();e.ElasticOut=L;var O=function(){function t(t,e){this.amplitude=t,this.period=e,this.s=this.period/T*Math.asin(1/this.amplitude)}return t.prototype.calclate=function(t){return(t*=2)<1?this.amplitude*Math.pow(2,10*(t-=1))*Math.sin((t-this.s)*T/this.period)*-.5:this.amplitude*Math.pow(2,-10*(t-=1))*Math.sin((t-this.s)*T/this.period)*.5+1},t}();e.ElasticInOut=O;var w=function(){function t(){}return t.register=function(t,e){this.algorithms.set(t,e)},t.get=function(t){return this.algorithms.get(t)},t.algorithms=new Map,t}();e.AlgorithmFactory=w,w.register("linear",new n),w.register("quadIn",new s(2)),w.register("quadOut",new a(2)),w.register("quadInOut",new h(2)),w.register("cubicIn",new s(3)),w.register("cubicOut",new a(3)),w.register("cubicInOut",new h(3)),w.register("quartIn",new s(4)),w.register("quartOut",new a(4)),w.register("quartInOut",new h(4)),w.register("quintIn",new s(5)),w.register("quintOut",new a(5)),w.register("quintInOut",new h(5)),w.register("sineIn",new u),w.register("sineOut",new c),w.register("sineInOut",new l),w.register("backIn",new p(1.7)),w.register("backOut",new f(1.7)),w.register("backInOut",new d(1.7)),w.register("circIn",new g),w.register("circOut",new E),w.register("circInOut",new y),w.register("bounceIn",new R),w.register("bounceOut",new A),w.register("bounceInOut",new m),w.register("elasticIn",new b(1,.3)),w.register("elasticOut",new L(1,.3)),w.register("elasticInOut",new O(1,.3))},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),s=i(24),a=i(6),h=i(4),u=i(3),c=i(25),l=i(10),p=function(){this.pressed=!1,this.inBounds=!1};e.ActionState=p;var f,d=function(t){function e(e,i,r,o){void 0===r&&(r=!0),void 0===o&&(o=!0);var n=t.call(this,i,r,o)||this;return n.nativeEvent=null,n.stageX=-1,n.stageY=-1,n.x=-1,n.y=-1,n.srcElement=e,n.currentTarget=e,n}return o(e,t),e.prototype.toString=function(){return"[XActionEvent (type="+this.type+")]"},e}(n.Event);e.XActionEvent=d,function(t){t[t.DISABLED=1]="DISABLED",t[t.CACHED=2]="CACHED",t[t.INVALIDATE=3]="INVALIDATE"}(f||(f={}));var g=function(t){function e(e){var i=t.call(this)||this;return i.eventEnabled=!0,i.actionState=new p,i.id=void 0,i.rect=new a.Rect(0,0,0,0),i.cacheState=f.DISABLED,i.style=e&&e.style?e.style:new u.Style,e&&e.attributes.id&&(i.id=e.attributes.id),i}return o(e,t),e.prototype.getCacheCanvas=function(){return this.cacheCanvas},e.prototype.remove=function(){this.parent&&this.parent.removeChild(this)},e.prototype.dispatchEvent=function(t){if(t.bubbles&&this.parent){for(var e=this,i=[e];e.parent;)i.push(e.parent),e=e.parent;for(var r=0,o=i;r<o.length;r++){var n=o[r];if(t.currentTarget=n,t.propagationStopped)break;n.doDispatchEvent(t)}}else this.doDispatchEvent(t);return!t.defaultPrevented},e.prototype.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.prototype.isVisible=function(){return!!(this.style.visible&&this.style.display!==u.Display.NONE&&this.style.alpha>0&&this.style.scaleX>0&&this.style.scaleY>0)},e.prototype.isCached=function(){return this.cacheState!==f.DISABLED},e.prototype.cache=function(){this.cacheState=f.INVALIDATE},e.prototype.uncache=function(){this.cacheState=f.DISABLED},e.prototype.invalidateCache=function(){this.cacheState!==f.DISABLED?this.cacheState=f.INVALIDATE:console.warn("Cache does not enabled for "+this.toString())},e.prototype.draw=function(t,e){if(void 0===e&&(e=!1),t.filter=this.style.filter||"none",e||this.cacheState===f.DISABLED)c.DrawUtils.drawElement(this,t);else{if(this.cacheCanvas||(this.cacheCanvas=h.Runtime.get().newCanvas()),this.cacheState!==f.CACHED){this.cacheCanvas.width=this.rect.width,this.cacheCanvas.height=this.rect.height;var i=this.cacheCanvas.getContext("2d");i&&c.DrawUtils.drawElement(this,i),this.cacheState=f.CACHED}t.drawImage(this.cacheCanvas,0,0,this.rect.width,this.rect.height)}},e.prototype.drawBackground=function(t,e,i){this.style.background&&this.style.background.draw(this,t,e,i)},e.prototype.drawContent=function(t){},e.prototype.updateContext=function(t){var e=this.getMatrix();t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),t.globalAlpha*=this.style.alpha},e.prototype.localToGlobal=function(t,e){return this.getConcatenatedMatrix().transformPoint(t,e)},e.prototype.globalToLocal=function(t,e){return this.getConcatenatedMatrix().invert().transformPoint(t,e)},e.prototype.localToLocal=function(t,e,i){var r=this.localToGlobal(t,e);return i.globalToLocal(r.x,r.y)},e.prototype.getMatrix=function(t){var e=t&&t.identity()||new s.Matrix2D,i=this.style.perspectiveOriginX.getValue(this.rect.width),r=this.style.perspectiveOriginY.getValue(this.rect.height);return e.appendTransform(this.rect.x+i+this.style.transformX.getValue(this.rect.width),this.rect.y+r+this.style.transformY.getValue(this.rect.height),this.style.scaleX,this.style.scaleY,this.style.rotation,this.style.skewX,this.style.skewY,i,r)},e.prototype.getConcatenatedMatrix=function(t){for(var e=this.getMatrix(t),i=this.parent;i;)e.prependMatrix(i.getMatrix()),i=i.parent;return e},e.prototype.hitTest=function(t,e){return t>=0&&t<this.rect.width&&e>=0&&e<this.rect.height},e.prototype.layout=function(){this.calculateSize()},e.prototype.calculateSize=function(){this.parent&&l.LayoutUtils.updateSize(this,this.parent.getWidth(),this.parent.getHeight())},e.prototype.css=function(t){this.style.apply(t)},e.prototype.getLineHeight=function(){return this.style.font?this.style.lineHeight?this.style.lineHeight.getValue(this.style.font.size):this.style.font.lineHeight?this.style.font.lineHeight.getValue(this.style.font.size):this.style.font.size:this.style.lineHeight?this.style.lineHeight.getValue(0):0},e.prototype.getWidth=function(){return this.rect.width},e.prototype.getHeight=function(){return this.rect.height},e.prototype.getPaddingWidth=function(){return this.rect.width-(this.style.borderLeft?this.style.borderLeft.width:0)-(this.style.borderRight?this.style.borderRight.width:0)},e.prototype.getPaddingHeight=function(){return this.rect.height-(this.style.borderTop?this.style.borderTop.width:0)-(this.style.borderBottom?this.style.borderBottom.width:0)},e.prototype.getPaddingRect=function(){var t=new a.Rect(0,0,this.rect.width,this.rect.height);return this.style.borderLeft&&(t.x+=this.style.borderLeft.width,t.width-=this.style.borderLeft.width),this.style.borderRight&&(t.width-=this.style.borderRight.width),this.style.borderTop&&(t.y+=this.style.borderTop.width,t.height-=this.style.borderTop.width),this.style.borderBottom&&(t.height-=this.style.borderBottom.width),t},e.prototype.getContentWidth=function(){return this.rect.width-(this.style.paddingLeft?this.style.paddingLeft.getValue(this.rect.width):0)-(this.style.paddingRight?this.style.paddingRight.getValue(this.rect.width):0)-(this.style.borderLeft?this.style.borderLeft.width:0)-(this.style.borderRight?this.style.borderRight.width:0)},e.prototype.getContentHeight=function(){return this.rect.height-(this.style.paddingTop?this.style.paddingTop.getValue(this.rect.height):0)-(this.style.paddingBottom?this.style.paddingBottom.getValue(this.rect.height):0)-(this.style.borderTop?this.style.borderTop.width:0)-(this.style.borderBottom?this.style.borderBottom.width:0)},e.prototype.getContentRect=function(){var t=new a.Rect(0,0,this.rect.width,this.rect.height);if(this.style.paddingLeft){var e=this.style.paddingLeft.getValue(this.rect.width);t.x+=e,t.width-=e}if(this.style.paddingRight&&(t.width-=this.style.paddingRight.getValue(this.rect.width)),this.style.paddingTop){var i=this.style.paddingTop.getValue(this.rect.height);t.y+=i,t.height-=i}return this.style.paddingBottom&&(t.height-=this.style.paddingBottom.getValue(this.rect.height)),this.style.borderLeft&&(t.x+=this.style.borderLeft.width,t.width-=this.style.borderLeft.width),this.style.borderRight&&(t.width-=this.style.borderRight.width),this.style.borderTop&&(t.y+=this.style.borderTop.width,t.height-=this.style.borderTop.width),this.style.borderBottom&&(t.height-=this.style.borderBottom.width),t},e.prototype.getOuterWidth=function(){var t=this.parent?this.parent.getWidth():0;return this.rect.width+(this.style.marginLeft?this.style.marginLeft.getValue(t):0)+(this.style.marginRight?this.style.marginRight.getValue(t):0)},e.prototype.getOuterHeight=function(){var t=this.parent?this.parent.getHeight():0;return this.rect.height+(this.style.marginTop?this.style.marginTop.getValue(t):0)+(this.style.marginBottom?this.style.marginBottom.getValue(t):0)},e.prototype.isChildOf=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},e.prototype.toString=function(){return"[XObject (id="+this.id+")]"},e.prototype.doDispatchEvent=function(e){if(e.currentTarget=this,e.stage){var i=e.stage.localToLocal(e.stageX,e.stageY,this);e.x=i.x,e.y=i.y}t.prototype.dispatchEvent.call(this,e)},e}(n.EventDispatcher);e.XObject=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.bubbles=!1,this.cancelable=!1,this.type=t,this.bubbles=e,this.cancelable=i,this.timeStamp=Date.now()}return t.prototype.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t}();e.Event=r;var o=function(){function t(){this.listeners={}}return t.prototype.addEventListener=function(t,e){var i=this.listeners[t];return i&&this.removeEventListener(t,e),(i=this.listeners[t])?i.push(e):this.listeners[t]=[e],this},t.prototype.on=function(t,e){return this.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){var i=this.listeners[t];if(i)for(var r=0,o=i.length;r<o;r++)if(i[r]===e){1===o?delete this.listeners[t]:i.splice(r,1);break}},t.prototype.off=function(t,e){this.removeEventListener(t,e)},t.prototype.removeAllEventListeners=function(t){t?this.listeners&&delete this.listeners[t]:this.listeners={}},t.prototype.hasEventListener=function(t){return!!this.listeners[t]},t.prototype.willTrigger=function(t){return this.hasEventListener(t)},t.prototype.dispatchEvent=function(t){var e=this.listeners[t.type];if(e){e=e.slice();for(var i=0;i<e.length&&!t.immediatePropagationStopped;i++)e[i](t)}return!t.defaultPrevented},t}();e.EventDispatcher=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,n,s,a,h,u=i(8),c=i(9),l=i(5),p=i(11),f=i(15),d=i(21),g=i(14),E=i(22),y=i(16),v=i(23);!function(t){t.CONTENT_BOX="content-box",t.BORDER_BOX="border-box"}(r=e.BoxSizing||(e.BoxSizing={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"}(o=e.TextAlign||(e.TextAlign={})),function(t){t.STATIC="static",t.RELATIVE="relative",t.ABSOLUTE="absolute",t.FIXED="fixed"}(n=e.Position||(e.Position={})),function(t){t.INLINE="inline",t.BLOCK="block",t.NONE="none"}(s=e.Display||(e.Display={})),function(t){t.VISIBLE="visible",t.HIDDEN="hidden"}(a=e.Overflow||(e.Overflow={})),function(t){t.OUTER="outer",t.INNER="inner"}(h=e.TextBorderPosition||(e.TextBorderPosition={}));var A=/([^\s:;]+)[\s]*:[\s]*([^;]+)/gm,R=function(){function t(){this.position=n.STATIC,this.display=s.INLINE,this.perspectiveOriginX=c.BaseValue.of("50%"),this.perspectiveOriginY=c.BaseValue.of("50%"),this.transformX=c.BaseValue.of("0"),this.transformY=c.BaseValue.of("0"),this.alpha=1,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.visible=!0,this.boxSizing=r.CONTENT_BOX,this.color=l.Color.BLACK,this.textAlign=o.LEFT,this.overflow=a.VISIBLE,this.textBorderPosition=h.OUTER}return t.of=function(e){for(var i=new t,r={},o=0,n=f.StringUtils.matchAll(e,A);o<n.length;o++){var s=n[o];r[s[1].toLowerCase()]=s[2]}return i.apply(r)},t.prototype.apply=function(e){for(var i in e){var u=this.normalize(i),f=e[i]+"";switch(u){case"width":case"height":this[u]=c.BaseValue.of(f);break;case"position":this.position=p.EnumUtils.fromString(n,f,n.STATIC);break;case"display":this.display=p.EnumUtils.fromString(s,f,s.INLINE);break;case"left":case"right":case"top":case"bottom":this[u]=c.BaseValue.of(f);break;case"padding":var A=t.parse4Dirs(f);A&&(this.paddingTop=A[0],this.paddingRight=A[1],this.paddingBottom=A[2],this.paddingLeft=A[3]);break;case"paddingTop":case"paddingRight":case"paddingBottom":case"paddingLeft":this[u]=c.BaseValue.of(f);break;case"margin":var R=t.parse4Dirs(f);R&&(this.marginTop=R[0],this.marginRight=R[1],this.marginBottom=R[2],this.marginLeft=R[3]);break;case"marginTop":case"marginRight":case"marginBottom":case"marginLeft":this[u]=c.BaseValue.of(f);break;case"perspectiveOrigin":1===(m=f.split(/\s+/)).length?"auto"===f?(this.perspectiveOriginX=c.BaseValue.of("50%"),this.perspectiveOriginY=c.BaseValue.of("50%")):(this.perspectiveOriginX=c.BaseValue.of(f),this.perspectiveOriginY=c.BaseValue.of(f)):m.length>1&&(this.perspectiveOriginX="auto"===m[0]?c.BaseValue.of("50%"):c.BaseValue.of(m[0]),this.perspectiveOriginY="auto"===m[1]?c.BaseValue.of("50%"):c.BaseValue.of(m[1]));break;case"transform":var m;1===(m=f.split(/\s+/)).length?"auto"===f?(this.transformX=c.BaseValue.of("50%"),this.transformY=c.BaseValue.of("50%")):(this.transformX=c.BaseValue.of(f),this.transformY=c.BaseValue.of(f)):m.length>1&&(this.transformX="auto"===m[0]?c.BaseValue.of("50%"):c.BaseValue.of(m[0]),this.transformY="auto"===m[1]?c.BaseValue.of("50%"):c.BaseValue.of(m[1]));break;case"perspectiveOriginX":case"perspectiveOriginY":case"transformX":case"transformY":this[u]="auto"===f?c.BaseValue.of("50%"):c.BaseValue.of(f);break;case"alpha":case"rotation":this[u]=parseFloat(f)||0;break;case"scaleX":case"scaleY":this[u]=parseFloat(f)||1;break;case"skewX":case"skewY":this[u]=parseFloat(f)||0;break;case"visible":this.visible="true"===f;break;case"background":this.background=d.Background.of(f);break;case"backgroundClip":this.background||(this.background=new d.Background),this.background.setClip(f);break;case"backgroundColor":this.background||(this.background=new d.Background),this.background.setColor(f);break;case"backgroundAttachment":this.background||(this.background=new d.Background),this.background.setAttachment(f);break;case"backgroundImage":this.background||(this.background=new d.Background),this.background.setImage(f);break;case"backgroundRepeat":this.background||(this.background=new d.Background),this.background.setRepeat(f);break;case"backgroundOrigin":this.background||(this.background=new d.Background),this.background.setOrigin(f);break;case"backgroundSize":this.background||(this.background=new d.Background),this.background.setSize(f);break;case"backgroundPosition":this.background||(this.background=new d.Background),this.background.setPosition(f);break;case"boxSizing":this.boxSizing=p.EnumUtils.fromString(r,f,r.CONTENT_BOX);break;case"color":var T=l.Color.of(f);T&&(this.color=T);break;case"font":this.font=E.Font.of(f);break;case"fontFamily":this.font||(this.font=new E.Font),this.font.family=f;break;case"fontWeight":this.font||(this.font=new E.Font),this.font.weight=p.EnumUtils.fromString(E.FontWeight,f,E.FontWeight.NORMAL);break;case"fontStyle":this.font||(this.font=new E.Font),this.font.style=p.EnumUtils.fromString(E.FontStyle,f,E.FontStyle.NORMAL);break;case"fontVariant":this.font||(this.font=new E.Font),this.font.variant=p.EnumUtils.fromString(E.FontVariant,f,E.FontVariant.NORMAL);break;case"fontSize":this.font||(this.font=new E.Font),this.font.size=parseFloat(f)||16;break;case"lineHeight":this.lineHeight=y.LineHeight.of(f);case"textAlign":this.textAlign=p.EnumUtils.fromString(o,f,o.LEFT);break;case"borderRadius":var b=t.parse4Dirs(f);b&&(this.borderRadiusTop=b[0],this.borderRadiusRight=b[1],this.borderRadiusBottom=b[2],this.borderRadiusLeft=b[3]);break;case"borderRadiusTop":case"borderRadiusRight":case"borderRadiusBottom":case"borderRadiusLeft":this[u]=c.BaseValue.of(f);break;case"border":this.borderTop=this.borderRight=this.borderLeft=this.borderBottom=g.Border.of(f);break;case"borderTop":case"borderRight":case"borderLeft":case"borderBottom":case"textBorder":this[u]=g.Border.of(f);break;case"overflow":this.overflow=p.EnumUtils.fromString(a,f,a.VISIBLE);break;case"compositeOperation":this.compositeOperation=f;break;case"aspectRatio":this.aspectRatio=parseFloat(f)||void 0;break;case"filter":this.filter=f;break;case"shadow":case"textShadow":this[u]=v.Shadow.of(f);break;case"textBorderPosition":this.textBorderPosition=p.EnumUtils.fromString(h,f,h.OUTER);break;case"cursor":this.cursor=f;break;default:console.warn("unknown style:"+i+" value:"+f)}}return this},t.prototype.getSnapshotForAnimation=function(t,e){var i={};for(var r in e)this.fillSnapshotForAnimation(t,r,e[r],i);return i},t.prototype.clone=function(){var e=new t;return e.width=this.width,e.height=this.height,e.position=this.position,e.display=this.display,e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,this.paddingTop&&(e.paddingTop=this.paddingTop.clone()),this.paddingRight&&(e.paddingRight=this.paddingRight.clone()),this.paddingBottom&&(e.paddingBottom=this.paddingBottom.clone()),this.paddingLeft&&(e.paddingLeft=this.paddingLeft.clone()),this.marginTop&&(e.marginTop=this.marginTop.clone()),this.marginRight&&(e.marginRight=this.marginRight.clone()),this.marginBottom&&(e.marginBottom=this.marginBottom.clone()),this.marginLeft&&(e.marginLeft=this.marginLeft.clone()),e.perspectiveOriginX=this.perspectiveOriginX,e.perspectiveOriginY=this.perspectiveOriginY,e.transformX=this.transformX,e.transformY=this.transformY,e.alpha=this.alpha,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.skewX=this.skewX,e.skewY=this.skewY,this.shadow&&(e.shadow=this.shadow.clone()),this.textShadow&&(e.textShadow=this.textShadow.clone()),e.textBorderPosition=this.textBorderPosition,this.textBorder&&(e.textBorder=this.textBorder.clone()),e.visible=this.visible,this.background&&(e.background=this.background.clone()),e.boxSizing=this.boxSizing,e.color=this.color.clone(),this.font&&(e.font=this.font.clone()),e.lineHeight=this.lineHeight,e.textAlign=this.textAlign,this.borderTop&&(e.borderTop=this.borderTop.clone()),this.borderRight&&(e.borderRight=this.borderRight.clone()),this.borderBottom&&(e.borderBottom=this.borderBottom.clone()),this.borderLeft&&(e.borderLeft=this.borderLeft.clone()),this.borderRadiusTop&&(e.borderRadiusTop=this.borderRadiusTop.clone()),this.borderRadiusRight&&(e.borderRadiusRight=this.borderRadiusRight.clone()),this.borderRadiusBottom&&(e.borderRadiusBottom=this.borderRadiusBottom.clone()),this.borderRadiusLeft&&(e.borderRadiusLeft=this.borderRadiusLeft.clone()),e.overflow=this.overflow,e.compositeOperation=this.compositeOperation,e.aspectRatio=this.aspectRatio,e.filter=this.filter,e.cursor=this.cursor,e},t.prototype.fillSnapshotForAnimation=function(t,e,i,r){var o=this.normalize(e);switch(o){case"scaleX":case"scaleY":case"alpha":case"rotation":case"skewX":case"skewY":case"aspectRatio":r[o]={from:this[o],to:"string"==typeof i?parseFloat(i):i,type:u.AnimationValueType.NUMBER};break;case"transformX":case"width":case"left":case"right":case"perspectiveOriginX":var n=c.BaseValue.of(i),s=this[o]||c.BaseValue.of(0);n.unit===c.BaseValueUnit.PERCENTAGE?r[o]={from:s.toPercentage(t.getWidth()),to:n,type:u.AnimationValueType.BASEVALUE}:r[o]={from:s.toAbsolute(t.getWidth()),to:n,type:u.AnimationValueType.BASEVALUE};break;case"transformY":case"height":case"top":case"bottom":case"perspectiveOriginY":n=c.BaseValue.of(i),s=this[o]||c.BaseValue.of(0);n.unit===c.BaseValueUnit.PERCENTAGE?r[o]={from:s.toPercentage(t.getHeight()),to:n,type:u.AnimationValueType.BASEVALUE}:r[o]={from:s.toAbsolute(t.getHeight()),to:n,type:u.AnimationValueType.BASEVALUE};break;case"color":var a=l.Color.of(i+"");a&&(r[o]={from:this[o],to:a,type:u.AnimationValueType.COLOR});break;case"paddingTop":case"paddingRight":case"paddingBottom":case"paddingLeft":case"marginTop":case"marginRight":case"marginBottom":case"marginLeft":case"borderRadiusTop":case"borderRadiusRight":case"borderRadiusBottom":case"borderRadiusLeft":r[o]={from:this[o],to:c.BaseValue.of(i+""),type:u.AnimationValueType.BASEVALUE};break;case"padding":this.fillSnapshotForAnimation(t,"paddingTop",i,r),this.fillSnapshotForAnimation(t,"paddingRight",i,r),this.fillSnapshotForAnimation(t,"paddingBottom",i,r),this.fillSnapshotForAnimation(t,"paddingLeft",i,r);break;case"margin":this.fillSnapshotForAnimation(t,"marginTop",i,r),this.fillSnapshotForAnimation(t,"marginRight",i,r),this.fillSnapshotForAnimation(t,"marginBottom",i,r),this.fillSnapshotForAnimation(t,"marginLeft",i,r);break;case"perspectiveOrigin":this.fillSnapshotForAnimation(t,"perspectiveOriginX",i,r),this.fillSnapshotForAnimation(t,"perspectiveOriginY",i,r);break;case"transform":this.fillSnapshotForAnimation(t,"transformX",i,r),this.fillSnapshotForAnimation(t,"transformY",i,r);break;case"scale":this.fillSnapshotForAnimation(t,"scaleX",i,r),this.fillSnapshotForAnimation(t,"scaleY",i,r);break;case"borderRadius":this.fillSnapshotForAnimation(t,"borderRadiusTop",i,r),this.fillSnapshotForAnimation(t,"borderRadiusRight",i,r),this.fillSnapshotForAnimation(t,"borderRadiusBottom",i,r),this.fillSnapshotForAnimation(t,"borderRadiusLeft",i,r);break;case"borderLeft":case"borderRight":case"borderTop":case"borderBottom":case"textBorder":r[o]={from:this[o]||g.Border.DEFAULT,to:g.Border.of(i+"")||g.Border.DEFAULT,type:u.AnimationValueType.BORDER};break;case"border":this.fillSnapshotForAnimation(t,"borderLeft",i,r),this.fillSnapshotForAnimation(t,"borderRight",i,r),this.fillSnapshotForAnimation(t,"borderTop",i,r),this.fillSnapshotForAnimation(t,"borderBottom",i,r);break;case"shadow":case"textShadow":r[o]={from:this[o]||new v.Shadow(0,0,0,l.Color.WHITE),to:v.Shadow.of(i+"")||new v.Shadow(0,0,0,l.Color.WHITE),type:u.AnimationValueType.SHADOW};break;default:console.warn("unsupported animation attribute:"+e)}},t.parse4Dirs=function(t){var e=t.split(/\s+/);return 1===e.length?[c.BaseValue.of(e[0]),c.BaseValue.of(e[0]),c.BaseValue.of(e[0]),c.BaseValue.of(e[0])]:2===e.length?[c.BaseValue.of(e[0]),c.BaseValue.of(e[1]),c.BaseValue.of(e[0]),c.BaseValue.of(e[1])]:3===e.length?[c.BaseValue.of(e[0]),c.BaseValue.of(e[1]),c.BaseValue.of(e[2]),c.BaseValue.of(e[1])]:4===e.length?[c.BaseValue.of(e[0]),c.BaseValue.of(e[1]),c.BaseValue.of(e[2]),c.BaseValue.of(e[3])]:void 0},t.prototype.normalize=function(t){for(var e="",i=0,r=t.split(/-/);i<r.length;i++){var o=r[i];""===e?e=o:e+=o.substring(0,1).toUpperCase()+o.substring(1)}return e},t}();e.Style=R},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(13),o=function(){function t(){}return t.prototype.newCanvas=function(){return document.createElement("canvas")},t.prototype.releaseCanvas=function(t){},t.prototype.enableEvents=function(t){var e=this;t.canvas.addEventListener("mousedown",(function(i){e.handleEvent("mousedown",t,i)})),t.canvas.addEventListener("mousemove",(function(i){e.handleEvent("mousemove",t,i)})),t.canvas.addEventListener("pressmove",(function(i){e.handleEvent("mousemove",t,i)})),t.canvas.addEventListener("mouseup",(function(i){e.handleEvent("mouseup",t,i)})),t.canvas.addEventListener("mouseenter",(function(i){e.handleEvent("mouseenter",t,i)})),t.canvas.addEventListener("mouseleave",(function(i){e.handleEvent("mouseleave",t,i)}))},t.prototype.requestAnimationFrame=function(t){window.requestAnimationFrame(t)},t.prototype.measureTextWidth=function(t,e){if(0===t.length)return 0;var i=this.getGlobalCanvas().getContext("2d");if(i){i.save(),i.font=e.toString();var r=i.measureText(t).width;return i.restore(),r}return 0},t.prototype.getGlobalCanvas=function(){return this.globalCanvas||(this.globalCanvas=this.newCanvas()),this.globalCanvas},t.prototype.handleEvent=function(t,e,i){var o=e.canvas.width/e.canvas.clientWidth,n=e.canvas.height/e.canvas.clientHeight,s=i.offsetX*o,a=i.offsetY*n;e.handleActionEvent(t,new r.Point(s,a),i)},t}(),n=function(){function t(){}return t.get=function(){return this.runtime},t.runtime=new o,t}();e.Runtime=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(31),o=/^([0-9]+|[0-9]+\.[0-9]*|[0-9]*\.[0-9]+)%?$/,n=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,s=function(){function t(t,e,i,r){void 0===r&&(r=1),this.r=0,this.g=0,this.b=0,this.a=1,this.r=Math.min(255,Math.max(0,t)),this.g=Math.min(255,Math.max(0,e)),this.b=Math.min(255,Math.max(0,i)),this.a=Math.min(1,Math.max(0,r))}return t.of=function(e,i){if(void 0===i&&(i=!1),n.test(e))return this.fromHex(e,i);var o=e.toUpperCase();if(a[o])return a[o];var s=r.FunctionParser.parse(e,i);if(s){var h=s.name.toLowerCase();if("rgb"===h&&3===s.arguments.length){var u=this.parseColorValue(s.arguments[0],255),c=this.parseColorValue(s.arguments[1],255),l=this.parseColorValue(s.arguments[2],255);return void 0===u||void 0===c||void 0===l?void console.warn("invalid color value:"+e):new t(u,c,l,1)}if("rgba"===h&&4===s.arguments.length){u=this.parseColorValue(s.arguments[0],255),c=this.parseColorValue(s.arguments[1],255),l=this.parseColorValue(s.arguments[2],255);var p=this.parseColorValue(s.arguments[3],1);return void 0===u||void 0===c||void 0===l||void 0===p?void console.warn("invalid color value:"+e):new t(u,c,l,p)}i||console.warn("invalid color value:"+e)}else i||console.warn("invalid color value:"+e)},t.parseColorValue=function(t,e){if(o.test(t))return t.endsWith("%")?parseFloat(t)*e/100:parseFloat(t)},t.fromHex=function(e,i){return 4===e.length?new t(16*parseInt(e[1],16)+parseInt(e[1],16),16*parseInt(e[2],16)+parseInt(e[2],16),16*parseInt(e[3],16)+parseInt(e[3],16),1):5===e.length?new t(16*parseInt(e[1],16)+parseInt(e[1],16),16*parseInt(e[2],16)+parseInt(e[2],16),16*parseInt(e[3],16)+parseInt(e[3],16),(16*parseInt(e[4],16)+parseInt(e[4],16))/255):7===e.length?new t(parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16),1):9===e.length?new t(parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16),parseInt(e.substring(7,9),16)/255):void(i||console.warn("invalid color value:"+e))},t.prototype.equals=function(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a},t.prototype.clone=function(){return new t(this.r,this.g,this.b,this.a)},t.prototype.toString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"},t.TRANSPARENT=t.of("#0000"),t.ALICEBLUE=t.of("#F0F8FF"),t.ANTIQUEWHITE=t.of("#FAEBD7"),t.AQUA=t.of("#00FFFF"),t.AQUAMARINE=t.of("#7FFFD4"),t.AZURE=t.of("#F0FFFF"),t.BEIGE=t.of("#F5F5DC"),t.BISQUE=t.of("#FFE4C4"),t.BLACK=t.of("#000000"),t.BLANCHEDALMOND=t.of("#FFEBCD"),t.BLUE=t.of("#0000FF"),t.BLUEVIOLET=t.of("#8A2BE2"),t.BROWN=t.of("#A52A2A"),t.BURLYWOOD=t.of("#DEB887"),t.CADETBLUE=t.of("#5F9EA0"),t.CHARTREUSE=t.of("#7FFF00"),t.CHOCOLATE=t.of("#D2691E"),t.CORAL=t.of("#FF7F50"),t.CORNFLOWERBLUE=t.of("#6495ED"),t.CORNSILK=t.of("#FFF8DC"),t.CRIMSON=t.of("#DC143C"),t.CYAN=t.of("#00FFFF"),t.DARKBLUE=t.of("#00008B"),t.DARKCYAN=t.of("#008B8B"),t.DARKGOLDENROD=t.of("#B8860B"),t.DARKGRAY=t.of("#A9A9A9"),t.DARKGREY=t.of("#A9A9A9"),t.DARKGREEN=t.of("#006400"),t.DARKKHAKI=t.of("#BDB76B"),t.DARKMAGENTA=t.of("#8B008B"),t.DARKOLIVEGREEN=t.of("#556B2F"),t.DARKORANGE=t.of("#FF8C00"),t.DARKORCHID=t.of("#9932CC"),t.DARKRED=t.of("#8B0000"),t.DARKSALMON=t.of("#E9967A"),t.DARKSEAGREEN=t.of("#8FBC8F"),t.DARKSLATEBLUE=t.of("#483D8B"),t.DARKSLATEGRAY=t.of("#2F4F4F"),t.DARKSLATEGREY=t.of("#2F4F4F"),t.DARKTURQUOISE=t.of("#00CED1"),t.DARKVIOLET=t.of("#9400D3"),t.DEEPPINK=t.of("#FF1493"),t.DEEPSKYBLUE=t.of("#00BFFF"),t.DIMGRAY=t.of("#696969"),t.DIMGREY=t.of("#696969"),t.DODGERBLUE=t.of("#1E90FF"),t.FIREBRICK=t.of("#B22222"),t.FLORALWHITE=t.of("#FFFAF0"),t.FORESTGREEN=t.of("#228B22"),t.FUCHSIA=t.of("#FF00FF"),t.GAINSBORO=t.of("#DCDCDC"),t.GHOSTWHITE=t.of("#F8F8FF"),t.GOLD=t.of("#FFD700"),t.GOLDENROD=t.of("#DAA520"),t.GRAY=t.of("#808080"),t.GREY=t.of("#808080"),t.GREEN=t.of("#008000"),t.GREENYELLOW=t.of("#ADFF2F"),t.HONEYDEW=t.of("#F0FFF0"),t.HOTPINK=t.of("#FF69B4"),t.INDIANRED=t.of("#CD5C5C"),t.INDIGO=t.of("#4B0082"),t.IVORY=t.of("#FFFFF0"),t.KHAKI=t.of("#F0E68C"),t.LAVENDER=t.of("#E6E6FA"),t.LAVENDERBLUSH=t.of("#FFF0F5"),t.LAWNGREEN=t.of("#7CFC00"),t.LEMONCHIFFON=t.of("#FFFACD"),t.LIGHTBLUE=t.of("#ADD8E6"),t.LIGHTCORAL=t.of("#F08080"),t.LIGHTCYAN=t.of("#E0FFFF"),t.LIGHTGOLDENRODYELLOW=t.of("#FAFAD2"),t.LIGHTGRAY=t.of("#D3D3D3"),t.LIGHTGREY=t.of("#D3D3D3"),t.LIGHTGREEN=t.of("#90EE90"),t.LIGHTPINK=t.of("#FFB6C1"),t.LIGHTSALMON=t.of("#FFA07A"),t.LIGHTSEAGREEN=t.of("#20B2AA"),t.LIGHTSKYBLUE=t.of("#87CEFA"),t.LIGHTSLATEGRAY=t.of("#778899"),t.LIGHTSLATEGREY=t.of("#778899"),t.LIGHTSTEELBLUE=t.of("#B0C4DE"),t.LIGHTYELLOW=t.of("#FFFFE0"),t.LIME=t.of("#00FF00"),t.LIMEGREEN=t.of("#32CD32"),t.LINEN=t.of("#FAF0E6"),t.MAGENTA=t.of("#FF00FF"),t.MAROON=t.of("#800000"),t.MEDIUMAQUAMARINE=t.of("#66CDAA"),t.MEDIUMBLUE=t.of("#0000CD"),t.MEDIUMORCHID=t.of("#BA55D3"),t.MEDIUMPURPLE=t.of("#9370DB"),t.MEDIUMSEAGREEN=t.of("#3CB371"),t.MEDIUMSLATEBLUE=t.of("#7B68EE"),t.MEDIUMSPRINGGREEN=t.of("#00FA9A"),t.MEDIUMTURQUOISE=t.of("#48D1CC"),t.MEDIUMVIOLETRED=t.of("#C71585"),t.MIDNIGHTBLUE=t.of("#191970"),t.MINTCREAM=t.of("#F5FFFA"),t.MISTYROSE=t.of("#FFE4E1"),t.MOCCASIN=t.of("#FFE4B5"),t.NAVAJOWHITE=t.of("#FFDEAD"),t.NAVY=t.of("#000080"),t.OLDLACE=t.of("#FDF5E6"),t.OLIVE=t.of("#808000"),t.OLIVEDRAB=t.of("#6B8E23"),t.ORANGE=t.of("#FFA500"),t.ORANGERED=t.of("#FF4500"),t.ORCHID=t.of("#DA70D6"),t.PALEGOLDENROD=t.of("#EEE8AA"),t.PALEGREEN=t.of("#98FB98"),t.PALETURQUOISE=t.of("#AFEEEE"),t.PALEVIOLETRED=t.of("#DB7093"),t.PAPAYAWHIP=t.of("#FFEFD5"),t.PEACHPUFF=t.of("#FFDAB9"),t.PERU=t.of("#CD853F"),t.PINK=t.of("#FFC0CB"),t.PLUM=t.of("#DDA0DD"),t.POWDERBLUE=t.of("#B0E0E6"),t.PURPLE=t.of("#800080"),t.REBECCAPURPLE=t.of("#663399"),t.RED=t.of("#FF0000"),t.ROSYBROWN=t.of("#BC8F8F"),t.ROYALBLUE=t.of("#4169E1"),t.SADDLEBROWN=t.of("#8B4513"),t.SALMON=t.of("#FA8072"),t.SANDYBROWN=t.of("#F4A460"),t.SEAGREEN=t.of("#2E8B57"),t.SEASHELL=t.of("#FFF5EE"),t.SIENNA=t.of("#A0522D"),t.SILVER=t.of("#C0C0C0"),t.SKYBLUE=t.of("#87CEEB"),t.SLATEBLUE=t.of("#6A5ACD"),t.SLATEGRAY=t.of("#708090"),t.SLATEGREY=t.of("#708090"),t.SNOW=t.of("#FFFAFA"),t.SPRINGGREEN=t.of("#00FF7F"),t.STEELBLUE=t.of("#4682B4"),t.TAN=t.of("#D2B48C"),t.TEAL=t.of("#008080"),t.THISTLE=t.of("#D8BFD8"),t.TOMATO=t.of("#FF6347"),t.TURQUOISE=t.of("#40E0D0"),t.VIOLET=t.of("#EE82EE"),t.WHEAT=t.of("#F5DEB3"),t.WHITE=t.of("#FFFFFF"),t.WHITESMOKE=t.of("#F5F5F5"),t.YELLOW=t.of("#FFFF00"),t.YELLOWGREEN=t.of("#9ACD32"),t.NONE=t.of("#FFFF00"),t}();e.Color=s;var a={TRANSPARENT:s.TRANSPARENT,ALICEBLUE:s.ALICEBLUE,ANTIQUEWHITE:s.ANTIQUEWHITE,AQUA:s.AQUA,AQUAMARINE:s.AQUAMARINE,AZURE:s.AZURE,BEIGE:s.BEIGE,BISQUE:s.BISQUE,BLACK:s.BLACK,BLANCHEDALMOND:s.BLANCHEDALMOND,BLUE:s.BLUE,BLUEVIOLET:s.BLUEVIOLET,BROWN:s.BROWN,BURLYWOOD:s.BURLYWOOD,CADETBLUE:s.CADETBLUE,CHARTREUSE:s.CHARTREUSE,CHOCOLATE:s.CHOCOLATE,CORAL:s.CORAL,CORNFLOWERBLUE:s.CORNFLOWERBLUE,CORNSILK:s.CORNSILK,CRIMSON:s.CRIMSON,CYAN:s.CYAN,DARKBLUE:s.DARKBLUE,DARKCYAN:s.DARKCYAN,DARKGOLDENROD:s.DARKGOLDENROD,DARKGRAY:s.DARKGRAY,DARKGREY:s.DARKGREY,DARKGREEN:s.DARKGREEN,DARKKHAKI:s.DARKKHAKI,DARKMAGENTA:s.DARKMAGENTA,DARKOLIVEGREEN:s.DARKOLIVEGREEN,DARKORANGE:s.DARKORANGE,DARKORCHID:s.DARKORCHID,DARKRED:s.DARKRED,DARKSALMON:s.DARKSALMON,DARKSEAGREEN:s.DARKSEAGREEN,DARKSLATEBLUE:s.DARKSLATEBLUE,DARKSLATEGRAY:s.DARKSLATEGRAY,DARKSLATEGREY:s.DARKSLATEGREY,DARKTURQUOISE:s.DARKTURQUOISE,DARKVIOLET:s.DARKVIOLET,DEEPPINK:s.DEEPPINK,DEEPSKYBLUE:s.DEEPSKYBLUE,DIMGRAY:s.DIMGRAY,DIMGREY:s.DIMGREY,DODGERBLUE:s.DODGERBLUE,FIREBRICK:s.FIREBRICK,FLORALWHITE:s.FLORALWHITE,FORESTGREEN:s.FORESTGREEN,FUCHSIA:s.FUCHSIA,GAINSBORO:s.GAINSBORO,GHOSTWHITE:s.GHOSTWHITE,GOLD:s.GOLD,GOLDENROD:s.GOLDENROD,GRAY:s.GRAY,GREY:s.GREY,GREEN:s.GREEN,GREENYELLOW:s.GREENYELLOW,HONEYDEW:s.HONEYDEW,HOTPINK:s.HOTPINK,INDIANRED:s.INDIANRED,INDIGO:s.INDIGO,IVORY:s.IVORY,KHAKI:s.KHAKI,LAVENDER:s.LAVENDER,LAVENDERBLUSH:s.LAVENDERBLUSH,LAWNGREEN:s.LAWNGREEN,LEMONCHIFFON:s.LEMONCHIFFON,LIGHTBLUE:s.LIGHTBLUE,LIGHTCORAL:s.LIGHTCORAL,LIGHTCYAN:s.LIGHTCYAN,LIGHTGOLDENRODYELLOW:s.LIGHTGOLDENRODYELLOW,LIGHTGRAY:s.LIGHTGRAY,LIGHTGREY:s.LIGHTGREY,LIGHTGREEN:s.LIGHTGREEN,LIGHTPINK:s.LIGHTPINK,LIGHTSALMON:s.LIGHTSALMON,LIGHTSEAGREEN:s.LIGHTSEAGREEN,LIGHTSKYBLUE:s.LIGHTSKYBLUE,LIGHTSLATEGRAY:s.LIGHTSLATEGRAY,LIGHTSLATEGREY:s.LIGHTSLATEGREY,LIGHTSTEELBLUE:s.LIGHTSTEELBLUE,LIGHTYELLOW:s.LIGHTYELLOW,LIME:s.LIME,LIMEGREEN:s.LIMEGREEN,LINEN:s.LINEN,MAGENTA:s.MAGENTA,MAROON:s.MAROON,MEDIUMAQUAMARINE:s.MEDIUMAQUAMARINE,MEDIUMBLUE:s.MEDIUMBLUE,MEDIUMORCHID:s.MEDIUMORCHID,MEDIUMPURPLE:s.MEDIUMPURPLE,MEDIUMSEAGREEN:s.MEDIUMSEAGREEN,MEDIUMSLATEBLUE:s.MEDIUMSLATEBLUE,MEDIUMSPRINGGREEN:s.MEDIUMSPRINGGREEN,MEDIUMTURQUOISE:s.MEDIUMTURQUOISE,MEDIUMVIOLETRED:s.MEDIUMVIOLETRED,MIDNIGHTBLUE:s.MIDNIGHTBLUE,MINTCREAM:s.MINTCREAM,MISTYROSE:s.MISTYROSE,MOCCASIN:s.MOCCASIN,NAVAJOWHITE:s.NAVAJOWHITE,NAVY:s.NAVY,OLDLACE:s.OLDLACE,OLIVE:s.OLIVE,OLIVEDRAB:s.OLIVEDRAB,ORANGE:s.ORANGE,ORANGERED:s.ORANGERED,ORCHID:s.ORCHID,PALEGOLDENROD:s.PALEGOLDENROD,PALEGREEN:s.PALEGREEN,PALETURQUOISE:s.PALETURQUOISE,PALEVIOLETRED:s.PALEVIOLETRED,PAPAYAWHIP:s.PAPAYAWHIP,PEACHPUFF:s.PEACHPUFF,PERU:s.PERU,PINK:s.PINK,PLUM:s.PLUM,POWDERBLUE:s.POWDERBLUE,PURPLE:s.PURPLE,REBECCAPURPLE:s.REBECCAPURPLE,RED:s.RED,ROSYBROWN:s.ROSYBROWN,ROYALBLUE:s.ROYALBLUE,SADDLEBROWN:s.SADDLEBROWN,SALMON:s.SALMON,SANDYBROWN:s.SANDYBROWN,SEAGREEN:s.SEAGREEN,SEASHELL:s.SEASHELL,SIENNA:s.SIENNA,SILVER:s.SILVER,SKYBLUE:s.SKYBLUE,SLATEBLUE:s.SLATEBLUE,SLATEGRAY:s.SLATEGRAY,SLATEGREY:s.SLATEGREY,SNOW:s.SNOW,SPRINGGREEN:s.SPRINGGREEN,STEELBLUE:s.STEELBLUE,TAN:s.TAN,TEAL:s.TEAL,THISTLE:s.THISTLE,TOMATO:s.TOMATO,TURQUOISE:s.TURQUOISE,VIOLET:s.VIOLET,WHEAT:s.WHEAT,WHITE:s.WHITE,WHITESMOKE:s.WHITESMOKE,YELLOW:s.YELLOW,YELLOWGREEN:s.YELLOWGREEN}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=/^\s*[0-9]+\s+[0-9]+\s+[0-9]+\s+[0-9]+\s*$/,o=function(){function t(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r}return t.of=function(e){if(r.test(e)){var i=e.split(/\s+/),o=parseFloat(i[0]);if(!isNaN(o)){var n=parseFloat(i[1]);if(!isNaN(n)){var s=parseFloat(i[2]);if(!isNaN(s)){var a=parseFloat(i[3]);if(!isNaN(a))return new t(o,n,s,a)}}}}},t.prototype.in=function(t,e){return t>=this.x&&e>=this.y&&t<this.x+this.width&&e<this.y+this.height},t.prototype.equals=function(t){return this.x===t.x&&this.y==this.y&&this.width===t.width&&this.height===t.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t}();e.Rect=o},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,s,a=i(12),h=i(2),u=i(32);!function(t){t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(n=e.LoadState||(e.LoadState={})),function(t){t[t.IMAGE=1]="IMAGE",t[t.APNG=2]="APNG"}(s=e.ResourceType||(e.ResourceType={}));var c=function(t){function e(e,i){var r=t.call(this,e)||this;return r.progress=i,r}return o(e,t),e}(h.Event),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.items=[],e}return o(e,t),e.prototype.add=function(t,e){var i=this;return new Promise((function(r,o){for(var s=0,a=i.items;s<a.length;s++){var h=a[s];if(h.url===t)return void(h.state===n.LOADED?r(h.resource):h.state===n.ERROR?o(h.error):h.promiseHandlers.push({resolve:r,reject:o}))}var u={url:t,type:e,resource:void 0,state:n.LOADING,progress:0,loadedBytes:0,totalBytes:0,promiseHandlers:[{resolve:r,reject:o}]};i.items.push(u),i.load(u)}))},e.prototype.load=function(t){switch(t.type){case s.IMAGE:this.loadImage(t);break;case s.APNG:this.loadApng(t)}},e.prototype.loadImage=function(t){var e=this;new u.Loader(t.url,"GET","blob").on("load",(function(i){var r=URL.createObjectURL(i.response);t.resource=new Image,t.resource.src=r,t.resource.onload=function(){URL.revokeObjectURL(r),e.onLoad(t)}})).on("progress",(function(i){t.loadedBytes=i.target.loadedBytes,t.totalBytes=i.target.totalBytes,e.onProgress(t)})).on("error",(function(i){t.error=i,e.onError(t)}))},e.prototype.loadApng=function(t){var e=this;new u.Loader(t.url,"GET","arraybuffer").on("load",(function(i){for(var r=a.ApngParser.parse(i.response),o={width:r.width,height:r.height,fps:1e3*r.frames.length/r.duration,frames:[],url:void 0,image:void 0},n=0,s=r.frames;n<s.length;n++){var h=s[n];o.frames.push({x:h.left,y:h.top,width:h.width,height:h.height,image:h.image})}t.resource=o,e.onLoad(t)})).on("progress",(function(i){t.loadedBytes=i.target.loadedBytes,t.totalBytes=i.target.totalBytes,e.onProgress(t)})).on("error",(function(i){t.error=i,e.onError(t)}))},e.prototype.getTotalProgress=function(){for(var t=0,e=0,i=this.items;e<i.length;e++){t+=i[e].progress}return t/this.items.length},e.prototype.onProgress=function(t){t.progress=t.totalBytes>0?t.loadedBytes/t.totalBytes:0,this.dispatchEvent(new c("progress",this.getTotalProgress()))},e.prototype.onLoad=function(t){t.state=n.LOADED,t.progress=1,t.loadedBytes=t.totalBytes;for(var e=0,i=t.promiseHandlers;e<i.length;e++){i[e].resolve(t.resource)}t.promiseHandlers=[];for(var r=!0,o=0,s=this.items;o<s.length;o++){if(s[o].state!==n.LOADED){r=!1;break}}r&&this.dispatchEvent(new c("done",1))},e.prototype.onError=function(t){t.state=n.ERROR;for(var e=0,i=t.promiseHandlers;e<i.length;e++){i[e].reject(t.error)}t.promiseHandlers=[],this.dispatchEvent(new c("error",this.getTotalProgress()))},e.prototype.get=function(t){for(var e=0,i=this.items;e<i.length;e++){var r=i[e];if(r.url===t)return r.state===n.LOADED?r.resource:void 0}},e.prototype.release=function(t){for(var e=0;e<this.items.length;++e){var i=this.items[e];if(i.url===t)return this.items.splice(e,1),i}},e.DefaultInstance=new e,e}(h.EventDispatcher);e.ResourceRegistry=l},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,s,a=i(12),h=i(9),u=i(5),c=i(2),l=i(14),p=i(0);!function(t){t[t.NUMBER=1]="NUMBER",t[t.BASEVALUE=2]="BASEVALUE",t[t.COLOR=3]="COLOR",t[t.BORDER=4]="BORDER",t[t.SHADOW=5]="SHADOW"}(n=e.AnimationValueType||(e.AnimationValueType={})),function(t){t.UPDATE="update",t.COMPLETE="complete"}(s=e.AnimateEventType||(e.AnimateEventType={}));var f=function(t){function e(e,i,r,o){var n=t.call(this,e,!1,!0)||this;return n.progress=i,n.currentStep=r,n.currentProgress=o,n}return o(e,t),e.prototype.toString=function(){return"[AnimateEvent (type="+this.type+")]"},e}(c.Event);e.AnimateEvent=f;var d,g=function(){function t(t,e){this.endTime=0,this.target=t,this.duration=e}return t.prototype.onStart=function(){return this},t.prototype.onUpdate=function(t){return this},t.prototype.onEnd=function(){return this},t}(),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(g),y=function(t){function e(e,i,r,o){var n=t.call(this,e,o)||this;if("string"==typeof r){var s=p.AlgorithmFactory.get(r);if(!s)throw new Error("unknow algorithm:"+r);n.algorithm=s}else n.algorithm=r;return n.props=i,n}return o(e,t),e.prototype.onStart=function(){return this.computed=this.target.style.getSnapshotForAnimation(this.target,this.props),this},e.prototype.onUpdate=function(t){if(!this.computed)return this;for(var e in this.computed){var i=this.computed[e];switch(i.type){case n.NUMBER:var r=i.from,o=i.to;this.target.style[e]=r+(o-r)*this.algorithm.calclate(t);break;case n.BASEVALUE:r=i.from,o=i.to;this.target.style[e]=new h.BaseValue(r.numberValue+(o.numberValue-r.numberValue)*this.algorithm.calclate(t),o.unit);break;case n.COLOR:r=i.from,o=i.to;var s=this.algorithm.calclate(t);this.target.style[e]=new u.Color(r.r+(o.r-r.r)*s,r.g+(o.g-r.g)*s,r.b+(o.b-r.b)*s,r.a+(o.a-r.a)*s);break;case n.BORDER:r=i.from,o=i.to,s=this.algorithm.calclate(t);this.target.style[e]=new l.Border(r.width+(o.width-r.width)*s,r.style,new u.Color(r.color.r+(o.color.r-r.color.r)*s,r.color.g+(o.color.g-r.color.g)*s,r.color.b+(o.color.b-r.color.b)*s,r.color.a+(o.color.a-r.color.a)*s));break;case n.SHADOW:r=i.from,o=i.to,s=this.algorithm.calclate(t);this.target.style[e]=new a.Shadow(r.offsetX+(o.offsetX-r.offsetX)*s,r.offsetY+(o.offsetY-r.offsetY)*s,r.blur+(o.blur-r.blur)*s,new u.Color(r.color.r+(o.color.r-r.color.r)*s,r.color.g+(o.color.g-r.color.g)*s,r.color.b+(o.color.b-r.color.b)*s,r.color.a+(o.color.a-r.color.a)*s))}}return this},e.prototype.onEnd=function(){for(var t in this.computed){var e=this.computed[t];this.target.style[t]=e.to}return this},e}(g),v=function(t){function e(e,i){var r=t.call(this,e,0)||this;return r.call=i,r}return o(e,t),e.prototype.onEnd=function(){return this.call(),this},e}(g);!function(t){t[t.RUNNING=1]="RUNNING",t[t.COMPLETED=2]="COMPLETED",t[t.CANCELLED=3]="CANCELLED"}(d=e.AnimationState||(e.AnimationState={}));var A=function(t){function e(e,i){var r=t.call(this)||this;return r.loopAnimate=!1,r.state=d.RUNNING,r.steps=[],r.startTime=0,r.duration=0,r.currentStepIndex=0,r.currentStepProgress=0,r.totalProgress=0,r.target=e,r.loopAnimate=!!i,r.startTime=Date.now(),r.currentStepIndex=0,r.state=d.RUNNING,r}return o(e,t),e.prototype.toPromise=function(){var t=this;return new Promise((function(e,i){t.addEventListener(s.COMPLETE,(function(t){e(t)}))}))},e.prototype.loop=function(t){return this.loopAnimate=t,this},e.prototype.to=function(t,e,i){return this.addStep(new y(this.target,t,i,e)),this},e.prototype.call=function(t){return this.addStep(new v(this.target,t))},e.prototype.wait=function(t){return this.addStep(new E(this.target,t))},e.prototype.onInterval=function(){if(!(this.duration<=0)){var t=Date.now();if(!(t<this.startTime)){var e=t-this.startTime,i=this.steps[this.currentStepIndex];if(e>=this.duration){for(i.onEnd(),++this.currentStepIndex;this.currentStepIndex<this.steps.length;++this.currentStepIndex)this.steps[this.currentStepIndex].onStart().onEnd();if(this.loopAnimate)for(e%=this.duration,this.startTime=t-e,this.currentStepIndex=0;;){if((o=this.steps[this.currentStepIndex]).onStart(),o.endTime>e){var r=1-(o.endTime-e)/o.duration;this.onUpdateInternal(r,e/this.duration);break}o.onEnd(),++this.currentStepIndex}else this.currentStepIndex=this.steps.length-1,this.onUpdateInternal(1,1),this.state=d.COMPLETED,this.dispatchEvent(new f(s.COMPLETE,this.totalProgress,this.currentStepIndex,this.currentStepProgress))}else if(i.endTime>e){r=1-(i.endTime-e)/i.duration;this.onUpdateInternal(r,e/this.duration)}else for(i.onEnd(),++this.currentStepIndex;;){var o;if((o=this.steps[this.currentStepIndex]).onStart(),o.endTime>e&&o.duration>0){r=1-(o.endTime-e)/o.duration;this.onUpdateInternal(r,e/this.duration);break}o.onEnd(),++this.currentStepIndex}}}},e.prototype.cancel=function(){this.state=d.CANCELLED,this.dispatchEvent(new f(s.COMPLETE,this.totalProgress,this.currentStepIndex,this.currentStepProgress))},e.prototype.onUpdateInternal=function(t,e){this.currentStepProgress=t,this.totalProgress=e,this.steps[this.currentStepIndex].onUpdate(t),this.dispatchEvent(new f(s.UPDATE,this.totalProgress,this.currentStepIndex,this.currentStepProgress))},e.prototype.addStep=function(t){return this.steps.push(t),this.duration+=t.duration,t.endTime=this.duration,1===this.steps.length&&t.onStart(),this},e}(c.EventDispatcher);e.Animation=A},function(t,e,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.PX=1]="PX",t[t.PERCENTAGE=2]="PERCENTAGE"}(r=e.BaseValueUnit||(e.BaseValueUnit={}));var o=function(){function t(t,e){void 0===e&&(e=r.PX),this.numberValue=0,this.unit=e,this.numberValue=t}return t.of=function(e,i){if(void 0===i&&(i=!1),"string"==typeof e){var o=parseFloat(e);return isNaN(o)?void(i||console.warn("invalid value:"+e)):e.endsWith("%")?new t(o,r.PERCENTAGE):new t(o,r.PX)}return new t(e,r.PX)},t.prototype.getValue=function(t){switch(this.unit){case r.PERCENTAGE:return this.numberValue*t/100;case r.PX:return this.numberValue}},t.prototype.toAbsolute=function(e){switch(this.unit){case r.PERCENTAGE:return new t(this.numberValue*e/100,r.PX);case r.PX:return this}},t.prototype.toPercentage=function(e){switch(this.unit){case r.PX:return new t(this.numberValue/e*100,r.PERCENTAGE);case r.PERCENTAGE:return this}},t.prototype.toString=function(){switch(this.unit){case r.PERCENTAGE:return this.numberValue+"%";case r.PX:return this.numberValue+""}},t.prototype.equals=function(t){return this.numberValue===t.numberValue&&this.unit==this.unit},t.prototype.clone=function(){return new t(this.numberValue,this.unit)},t}();e.BaseValue=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),o=function(){function t(){}return t.updateSize=function(t,e,i){t.style.width&&t.style.height?(t.rect.width=t.style.width.getValue(e),t.rect.height=t.style.height.getValue(i)):t.style.width?(t.rect.width=t.style.width.getValue(e),t.rect.height=void 0===t.style.aspectRatio?0:t.rect.width/t.style.aspectRatio):t.style.height?(t.rect.height=t.style.height.getValue(i),t.rect.width=void 0===t.style.aspectRatio?0:t.rect.height*t.style.aspectRatio):t.rect.height=t.rect.width=0,t.style.boxSizing===r.BoxSizing.CONTENT_BOX&&(t.rect.width+=(t.style.paddingLeft?t.style.paddingLeft.getValue(t.rect.width):0)+(t.style.paddingRight?t.style.paddingRight.getValue(t.rect.width):0)+(t.style.borderLeft?t.style.borderLeft.width:0)+(t.style.borderRight?t.style.borderRight.width:0),t.rect.height+=(t.style.paddingTop?t.style.paddingTop.getValue(t.rect.height):0)+(t.style.paddingBottom?t.style.paddingBottom.getValue(t.rect.height):0)+(t.style.borderTop?t.style.borderTop.width:0)+(t.style.borderBottom?t.style.borderBottom.width:0))},t.updatePositionForAbsoluteElement=function(t,e,i){t.style.right?t.rect.x=e-t.rect.width-t.style.right.getValue(e)-(t.style.marginRight?t.style.marginRight.getValue(e):0):t.style.left?t.rect.x=t.style.left.getValue(e)+(t.style.marginLeft?t.style.marginLeft.getValue(e):0):t.rect.x=t.style.marginLeft?t.style.marginLeft.getValue(e):0,t.style.bottom?t.rect.y=i-t.rect.height-t.style.bottom.getValue(i)-(t.style.marginBottom?t.style.marginBottom.getValue(i):0):t.style.top?t.rect.y=t.style.top.getValue(i)+(t.style.marginTop?t.style.marginTop.getValue(i):0):t.rect.y=t.style.marginTop?t.style.marginTop.getValue(i):0},t}();e.LayoutUtils=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.fromString=function(t,e,i){for(var r in t)if(t[r]===e)return e;return i},t.fromStringOrUndefined=function(t,e){for(var i in t)if(t[i]===e)return e},t}();e.EnumUtils=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(4);e.Runtime=r.Runtime;var o=i(30);e.Stage=o.Stage;var n=i(20);e.Ticker=n.Ticker;var s=i(19);e.AnimationFactory=s.AnimationFactory;var a=i(8);e.AnimateEvent=a.AnimateEvent;var h=i(8);e.Animation=h.Animation;var u=i(0);e.Linear=u.Linear;var c=i(0);e.PowIn=c.PowIn;var l=i(0);e.PowOut=l.PowOut;var p=i(0);e.PowInOut=p.PowInOut;var f=i(0);e.SineIn=f.SineIn;var d=i(0);e.SineOut=d.SineOut;var g=i(0);e.SineInOut=g.SineInOut;var E=i(0);e.BackIn=E.BackIn;var y=i(0);e.BackOut=y.BackOut;var v=i(0);e.BackInOut=v.BackInOut;var A=i(0);e.CircIn=A.CircIn;var R=i(0);e.CircOut=R.CircOut;var m=i(0);e.CircInOut=m.CircInOut;var T=i(0);e.BounceOut=T.BounceOut;var b=i(0);e.BounceIn=b.BounceIn;var L=i(0);e.BounceInOut=L.BounceInOut;var O=i(0);e.ElasticIn=O.ElasticIn;var w=i(0);e.ElasticOut=w.ElasticOut;var B=i(0);e.ElasticInOut=B.ElasticInOut;var S=i(0);e.AlgorithmFactory=S.AlgorithmFactory;var I=i(34);e.ApngData=I.ApngData,e.ApngParser=I.ApngParser;var D=i(24);e.Matrix2D=D.Matrix2D;var N=i(13);e.Point=N.Point;var P=i(6);e.Rect=P.Rect;var C=i(26);e.RoundRect=C.RoundRect;var M=i(5);e.Color=M.Color;var F=i(2);e.XEvent=F.Event;var x=i(2);e.EventDispatcher=x.EventDispatcher;var U=i(1);e.ActionState=U.ActionState;var G=i(1);e.XActionEvent=G.XActionEvent;var _=i(1);e.XObject=_.XObject;var k=i(28);e.Text=k.Text;var V=i(17);e.Container=V.Container;var Y=i(29);e.Img=Y.Img;var H=i(18);e.Sprite=H.Sprite;var X=i(35);e.Parser=X.HtmlParser;var W=i(7);e.ResourceRegistry=W.ResourceRegistry,e.ResourceType=W.ResourceType;var K=i(14);e.Border=K.Border;var j=i(23);e.Shadow=j.Shadow;var z=i(16);e.LineHeight=z.LineHeight;var Q=i(22);e.Font=Q.Font;var q=i(21);e.Background=q.Background;var $=i(9);e.BaseValue=$.BaseValue;var J=i(3);e.Style=J.Style;var Z=i(11);e.EnumUtils=Z.EnumUtils;var tt=i(27);e.CRC32=tt.CRC32;var et=i(37);e.Delay=et.Delay;var it=i(15);e.StringUtils=it.StringUtils;var rt=i(10);e.LayoutUtils=rt.LayoutUtils;var ot=i(25);e.DrawUtils=ot.DrawUtils},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.equals=function(t){return this.x===t.x&&this.y==this.y},t.prototype.clone=function(){return new t(this.x,this.y)},t}();e.Point=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(5);!function(t){t.SOLID="solid"}(r=e.BorderStyle||(e.BorderStyle={}));var n=/^[\s]*([^\s]+)[\s]+([\w]+)[\s]+(.*)$/,s=function(){function t(t,e,i){this.width=0,this.style=r.SOLID,this.color=o.Color.NONE,this.width=t,this.style=e,this.color=i}return t.of=function(e,i){void 0===i&&(i=!1);var s=e.match(n);if(s){var a=o.Color.of(s[3],i);if(a)return new t(parseFloat(s[1]),r.SOLID,a);i||console.warn("invalid border:"+e)}else i||console.warn("invalid border:"+e)},t.prototype.toString=function(){return this.width.toString()+" "+this.style+" "+this.color.toString()},t.prototype.equals=function(t){return this.width===t.width&&this.style===t.style&&this.color.equals(t.color)},t.prototype.isEnable=function(){return this.width>0&&this.color.a>0},t.prototype.clone=function(){return new t(this.width,this.style,this.color.clone())},t.DEFAULT=new t(0,r.SOLID,o.Color.BLACK),t}();e.Border=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.matchAll=function(t,e){for(var i=[],r=new RegExp(e,e.flags.includes("g")?e.flags:e.flags+"g"),o=r.exec(t);o;)i.push(o),o=r.exec(t);return i},t}();e.StringUtils=r},function(t,e,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.NORMAL=0]="NORMAL",t[t.NUMBER=1]="NUMBER",t[t.LENGTH=2]="LENGTH",t[t.PERCENT=3]="PERCENT"}(r=e.LineHeightType||(e.LineHeightType={}));var o=/^([0-9]*\.?[0-9]*)$/,n=/^([0-9]*\.?[0-9]*)px$/i,s=/^([0-9]*\.?[0-9]*)%$/,a=function(){function t(t,e){this.type=r.NORMAL,this.value=0,this.type=t,this.value=e}return t.of=function(e,i){return void 0===i&&(i=!1),"normal"===(e=e.toLowerCase())?new t(r.NORMAL,0):o.test(e)?new t(r.NUMBER,parseFloat(e)):n.test(e)?new t(r.LENGTH,parseFloat(e)):s.test(e)?new t(r.PERCENT,parseFloat(e)):void(i||console.warn("invalid line height:"+e))},t.prototype.getValue=function(t){switch(this.type){case r.NORMAL:return 1.2*t;case r.NUMBER:return t*this.value;case r.LENGTH:return this.value;case r.PERCENT:return this.value*t/100}},t.prototype.toString=function(){switch(this.type){case r.NORMAL:return"normal";case r.NUMBER:return this.value;case r.LENGTH:return this.value+"px";case r.PERCENT:return this.value+"%"}},t.prototype.clone=function(){return new t(this.type,this.value)},t}();e.LineHeight=a},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),s=i(10),a=i(1),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=[],e}return o(e,t),e.prototype.findById=function(t){if(this.id===t)return this;for(var i=0,r=this.children;i<r.length;i++){var o=r[i];if(o.id===t)return o;if(o instanceof e){var n=o.findById(t);if(n)return n}}},e.prototype.drawContent=function(t){for(var e=0,i=this.children.slice();e<i.length;e++){var r=i[e];r.isVisible()&&(t.save(),r.updateContext(t),r.draw(t),t.restore())}},e.prototype.addChild=function(t){var e=t.parent;if(e===this){if(this.children.length>0&&this.children[this.children.length-1]===t)return this;var i=this.children.indexOf(t);return this.children.splice(i,1),this.children.push(t),t.dispatchEvent(new a.XActionEvent(t,"moved",!1)),this}return e&&e.removeChild(t),t.parent=this,this.children.push(t),t.dispatchEvent(new a.XActionEvent(t,"added",!1)),this},e.prototype.addChildren=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,r=t;i<r.length;i++){var o=r[i];this.addChild(o)}return this},e.prototype.addChildAt=function(t,e){var i=t.parent;if(i===this){if(this.children[e]===t)return this;var r=this.children.indexOf(t);return r>e?(this.children.splice(r,1),this.children.splice(e,0,t)):(this.children.splice(e,0,t),this.children.splice(r,1)),t.dispatchEvent(new a.XActionEvent(t,"moved",!1)),this}return i&&i.removeChild(t),t.parent=this,this.children.splice(e,0,t),t.dispatchEvent(new a.XActionEvent(t,"added",!1)),this},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return e<0?null:(this.children.splice(e,1),t.parent=void 0,t.dispatchEvent(new a.XActionEvent(t,"removed",!1)),t)},e.prototype.removeChildAt=function(t){if(t<0||t>=this.children.length)return null;var e=this.children[t];return this.children.splice(t,1),e.dispatchEvent(new a.XActionEvent(e,"removed",!1)),e},e.prototype.removeAllChildren=function(){for(;this.children.length>0;)this.removeChildAt(0);return this},e.prototype.getChildAt=function(t){return this.children[t]},e.prototype.sortChildren=function(t){return this.children.sort(t),this},e.prototype.getChildIndex=function(t){return this.children.indexOf(t)},e.prototype.swapChildrenAt=function(t,e){if(t<0||t>=this.children.length)throw new Error("invalid index:"+t);if(e<0||e>=this.children.length)throw new Error("invalid index:"+e);if(t===e)return this;var i=this.children[t],r=this.children[e];return this.children[t]=r,this.children[e]=i,i.dispatchEvent(new a.XActionEvent(i,"moved",!1)),r.dispatchEvent(new a.XActionEvent(r,"moved",!1)),this},e.prototype.swapChildren=function(t,e){return this.swapChildrenAt(this.getChildIndex(t),this.getChildIndex(e))},e.prototype.contains=function(t){for(;t;){if(t===this)return!0;if(!t.parent)return!1;t=t.parent}return!1},e.prototype.layout=function(){this.calculateSize(),this.layoutChildren()},e.prototype.layoutChildren=function(){this.calculateSize();for(var t=[],e=[],i=this.getContentRect(),r=i.width,o=0,a=this.children;o<a.length;o++){(f=a[o]).isVisible()&&(f.layout(),f.style.position===n.Position.ABSOLUTE||f.style.position===n.Position.FIXED?t.push(f):(e.push(f),r=Math.max(r,f.getOuterWidth())))}for(var h=[],u=[],c=0,l=0,p=e;l<p.length;l++){var f=p[l];(u.length>0&&f.style.display===n.Display.BLOCK||c+f.getOuterWidth()>r)&&(h.push(u),u=[],c=0),u.push(f),c+=f.getOuterWidth()}u.length>0&&h.push(u);for(var d=this.getLineHeight(),g=0,E=0,y=h;E<y.length;E++){var v=y[E],A=0;c=0;for(var R=0,m=v;R<m.length;R++){(f=m[R]).rect.y=g+i.y+(f.style.marginTop?f.style.marginTop.getValue(this.rect.height):0),A=Math.max(A,f.getOuterHeight()),c+=f.getOuterWidth()}g+=Math.max(d,A);var T=i.x;switch(this.style.textAlign){case n.TextAlign.RIGHT:T=i.x+r-c;break;case n.TextAlign.CENTER:T=i.x+(r-c)/2;break;default:T=i.x}for(var b=0,L=v;b<L.length;b++){(f=L[b]).rect.x=T+(f.style.marginLeft?f.style.marginLeft.getValue(this.rect.width):0),T+=f.getOuterWidth()}}r>i.width&&(this.rect.width+=r-i.width),g>i.height&&(this.rect.height+=g-i.height);for(var O=0,w=t;O<w.length;O++){f=w[O];s.LayoutUtils.updatePositionForAbsoluteElement(f,this.rect.width,this.rect.height)}},e.prototype.getObjectUnderPoint=function(t,i,r){for(var o=this.children,n=o.length-1;n>=0;n--){var s=o[n];if(s.isVisible()&&(!r||s.eventEnabled)){var a=this.localToLocal(t,i,s);if(s instanceof e){var h=s.getObjectUnderPoint(a.x,a.y,r);if(h)return h}else if(s.hitTest(a.x,a.y))return s}}if(this.hitTest(t,i))return this},e.prototype.toString=function(){return"[Container (id="+this.id+")]"},e}(a.XObject);e.Container=h},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(7),a=i(1);!function(t){t[t.STOPPED=0]="STOPPED",t[t.PLAYING=1]="PLAYING",t[t.PAUSED=2]="PAUSED"}(n||(n={}));var h=function(t){function e(e){var i=t.call(this,e)||this;return i.currentFrame=0,i.startTime=0,i.pauseTime=0,i.state=n.STOPPED,i.playTimes=0,i}return o(e,t),e.prototype.setOption=function(t){return this.option=t,this.option&&this.option.url&&s.ResourceRegistry.DefaultInstance.add(this.option.url,s.ResourceType.IMAGE),this},e.prototype.play=function(t){return void 0===t&&(t=-1),this.playTimes=t,this.startTime=Date.now(),this.currentFrame=0,this.state=n.PLAYING,this.dispatchEvent(new a.XActionEvent(this,"play")),this},e.prototype.pause=function(){return this.state===n.PLAYING&&(this.state=n.PAUSED,this.pauseTime=Date.now(),this.dispatchEvent(new a.XActionEvent(this,"pause"))),this},e.prototype.resume=function(){return this.state===n.PAUSED&&(this.state=n.PLAYING,this.startTime=this.startTime+Date.now()-this.pauseTime,this.dispatchEvent(new a.XActionEvent(this,"resume"))),this},e.prototype.stop=function(){return this.state!==n.STOPPED&&(this.state=n.STOPPED,this.dispatchEvent(new a.XActionEvent(this,"stop"))),this},e.prototype.times=function(t){return this.play(t)},e.prototype.setCurrentFrame=function(t){return this.currentFrame=t,this},e.prototype.toNextFrame=function(){return this.currentFrame=(this.currentFrame+1)%this.option.frames.length,this},e.prototype.toPreviousFrame=function(){return this.currentFrame=(this.currentFrame-1+this.option.frames.length)%this.option.frames.length,this},e.prototype.updateFramePosition=function(){if(this.state!==n.PLAYING||0===this.playTimes||!this.option||this.option.fps<=0||0===this.option.frames.length)return!1;var t=Date.now();if(t<this.startTime)return this.startTime=t,this.currentFrame=0,!1;var e=1e3/this.option.fps,i=Math.floor((t-this.startTime)/e);return this.currentFrame=i%this.option.frames.length,this.playTimes>0&&i>=this.option.frames.length*this.playTimes?(this.currentFrame=this.option.frames.length-1,this.state=n.STOPPED,!0):void 0},e.prototype.drawContent=function(t){if(this.option&&0!==this.option.frames.length){var e,i=this.updateFramePosition(),r=this.option.frames[this.currentFrame],o=this.getContentRect(),n=0,h=0,u=this.option.width,c=this.option.height,l=o.x,p=o.y,f=o.width,d=o.height,g=o.width/this.option.width,E=o.height/this.option.height;if(r.image)e=r.image,l+=r.x*g,p+=r.y*E,f=r.width*g,d=r.height*E,n=0,h=0,u=r.width,c=r.height;else{if(!(e=this.option.image||this.option.url&&s.ResourceRegistry.DefaultInstance.get(this.option.url)))return;n=r.x,h=r.y,u=r.width||this.option.width,c=r.height||this.option.height}if(e){try{t.drawImage(e,n,h,u,c,l,p,f,d)}catch(t){console.warn(this.currentFrame,t)}i&&this.dispatchEvent(new a.XActionEvent(this,"stop"))}}},e}(a.XObject);e.Sprite=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(8),o=function(){function t(){this.animations=[]}return t.prototype.create=function(t,e){e&&this.removeByTarget(t);var i=new r.Animation(t);return this.animations.push(i),i},t.prototype.removeByTarget=function(t){for(var e=0,i=this.animations;e<i.length;e++){var o=i[e];o.target===t&&o.state===r.AnimationState.RUNNING&&o.cancel()}},t.prototype.onInterval=function(){for(var t=this.animations.length,e=0;e<t;++e)this.animations[e].onInterval();for(e=this.animations.length-1;e>=0;--e){var i=this.animations[e];i.state!==r.AnimationState.COMPLETED&&i.state!==r.AnimationState.CANCELLED||this.animations.splice(e,1)}},t}();e.AnimationFactory=o},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),s=i(4),a=function(t){function e(e){void 0===e&&(e=60);var i=t.call(this)||this;return i.duration=1e3/60,i.stopped=!0,e<=0&&(console.warn("invalid fps:"+e+", reset to 60"),e=60),i.setFps(e),i.lastTickTime=0,i.start(),i}return o(e,t),e.prototype.start=function(){this.stopped&&(this.stopped=!1,s.Runtime.get().requestAnimationFrame(this.onAnimationFrame.bind(this)))},e.prototype.setFps=function(t){this.duration=1e3/t},e.prototype.stop=function(){this.stopped=!0},e.prototype.onAnimationFrame=function(t){this.stopped||(t-this.lastTickTime>=this.duration&&(this.lastTickTime=t,this.dispatchEvent(new n.Event("tick"))),s.Runtime.get().requestAnimationFrame(this.onAnimationFrame.bind(this)))},e}(n.EventDispatcher);e.Ticker=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,n=i(9),s=i(5),a=i(6),h=i(7),u=i(4),c=i(11),l=i(15);!function(t){t.SCROLL="scroll"}(r=e.BackgroundAttachment||(e.BackgroundAttachment={})),function(t){t.REPEAT="repeat",t.NO_REPEAT="no-repeat",t.SPACE="space",t.ROUND="round"}(o=e.BackgroundRepeat||(e.BackgroundRepeat={}));var p,f,d=function(){function t(t){this.url=t,h.ResourceRegistry.DefaultInstance.add(t,h.ResourceType.IMAGE)}return t.of=function(e){return new t(e[0])},t.prototype.getSource=function(t,e){return h.ResourceRegistry.DefaultInstance.get(this.url)},t.prototype.toString=function(){return"url("+this.url+")"},t.prototype.clone=function(){return new t(this.url)},t.prototype.destory=function(){},t}(),g=function(){function t(t){this.parameters=t}return t.of=function(e){return new t(e)},t.prototype.getSource=function(t,e){if(0!==this.parameters.length){if(t=Math.round(t),e=Math.round(e),this.canvas&&this.canvas.width===t&&this.canvas.height===e)return this.canvas;this.canvas||(this.canvas=u.Runtime.get().newCanvas()),this.canvas.width!==t&&(this.canvas.width=t),this.canvas.height!==e&&(this.canvas.height=e);var i=this.canvas.getContext("2d");if(i){var r,o=0;if(this.parameters[0].startsWith("to")){var n=this.parameters[0].substring(2).replace(/\s+/g,"");r="left"===n?i.createLinearGradient(t-1,0,0,0):"right"===n?i.createLinearGradient(0,0,t-1,0):"top"===n?i.createLinearGradient(0,e-1,0,0):"bottom"===n?i.createLinearGradient(0,0,0,e-1):"lefttop"===n?i.createLinearGradient(t-1,e-1,0,0):"leftbottom"===n?i.createLinearGradient(t-1,0,0,e-1):"righttop"===n?i.createLinearGradient(0,e-1,t-1,0):"rightbottom"===n?i.createLinearGradient(0,0,t-1,e-1):i.createLinearGradient(0,0,0,e-1),o++}else this.parameters[0].endsWith("deg")&&(r=i.createLinearGradient(0,0,t-1,e-1),o++);r||(r=i.createLinearGradient(0,0,0,e-1));for(var s=-1;o<this.parameters.length;++o){var a=this.parameters[o].split(/\s+/),h=a[0];if(a.length<2)if(-1===s)s=0,r.addColorStop(0,h);else{for(var c=1,l=0,p=o+1;p<this.parameters.length;++p){++l;var f=this.parameters[p].split(/\s+/);if(f.length>1){c=parseFloat(f[1])/100;break}}0===l?s=1:s+=(c-s)/(l+1),r.addColorStop(s,h)}else for(p=1;p<a.length;++p)s=parseFloat(a[p])/100,r.addColorStop(s,h)}return i.fillStyle=r,i.fillRect(0,0,t,e),this.canvas}}},t.prototype.toString=function(){return"linear-gradient("+this.parameters.join(",")+")"},t.prototype.clone=function(){return new t(this.parameters)},t.prototype.destory=function(){this.canvas&&(u.Runtime.get().releaseCanvas(this.canvas),this.canvas=void 0)},t}(),E=function(){function t(t,e){this.x=t,this.y=e}return t.of=function(e){if("repeat-x"===e)return new t(o.REPEAT,o.NO_REPEAT);if("repeat-y"===e)return new t(o.NO_REPEAT,o.REPEAT);var i=e.split(/\s+/),r=c.EnumUtils.fromStringOrUndefined(o,i[0]);return r?i.length>1?new t(r,c.EnumUtils.fromString(o,i[1],o.NO_REPEAT)):new t(r,r):void 0},t.toBaseValue=function(t){return"left"===(t=t.toLowerCase())||"top"===t?n.BaseValue.of("0%"):"right"===t||"bottom"===t?n.BaseValue.of("100%"):"center"===t?n.BaseValue.of("50%"):n.BaseValue.of(t)},t.prototype.clone=function(){return new t(this.x,this.y)},t}();!function(t){t.BORDER_BOX="border-box",t.PADDING_BOX="padding-box",t.CONTENT_BOX="content-box"}(p=e.BackgroundClip||(e.BackgroundClip={})),function(t){t.BORDER_BOX="border-box",t.PADDING_BOX="padding-box",t.CONTENT_BOX="content-box"}(f=e.BackgroundOrigin||(e.BackgroundOrigin={})),function(t){t[t.AUTO=0]="AUTO",t[t.LENGTH=1]="LENGTH",t[t.PERCENTAGE=2]="PERCENTAGE",t[t.COVER=3]="COVER",t[t.CONTAIN=4]="CONTAIN"}(e.BackgroundSizeType||(e.BackgroundSizeType={}));var y=function(){function t(t,e){this.x=t,this.y=e}return t.of=function(e){var i=e.split(/\s+/);return new t(this.toBaseValue(i[0]),i.length>1?this.toBaseValue(i[1]):n.BaseValue.of("50%"))},t.toBaseValue=function(t){return"left"===(t=t.toLowerCase())||"top"===t?n.BaseValue.of("0%"):"right"===t||"bottom"===t?n.BaseValue.of("100%"):"center"===t?n.BaseValue.of("50%"):n.BaseValue.of(t)},t.prototype.clone=function(){return new t(this.x.clone(),this.y.clone())},t}(),v=/([^\s]+\([^\)]+\)|[^\s]+)/g,A=/("[^"]+"|'[^']+'|[^,]+)/g,R=/^(url|linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient)\(([^\)]+)\)$/i,m=/^(left|right|[0-9\.]+px|[0-9\.]+%)$/i,T=/^(top|bottom|[0-9\.]+px|[0-9\.]+%)$/i,b=function(){function t(){this.attachment=[],this.image=[],this.repeat=[],this.clip=[],this.origin=[],this.size=[],this.position=[],this.blendMode=[]}return t.of=function(e){for(var i=this.split(e),r=new t,o=0,a=i;o<a.length;o++){for(var h=a[o],u=void 0,f=void 0,d=void 0,g=void 0,A=void 0,R=0,b=l.StringUtils.matchAll(h,v);R<b.length;R++){var L=b[R][1].trim();if(r.color)if(u){if((f||!(f=E.of(L)))&&(d||!(d=c.EnumUtils.fromStringOrUndefined(p,L)))){if(g){if(!A&&T.test(L)){A=y.toBaseValue(L);continue}}else if(m.test(L)){g=y.toBaseValue(L);continue}console.warn("unknow part: "+L)}}else u=this.parseImage(L);else{var O=s.Color.of(L,!0);r.color=O}}u&&r.image.push(u),f&&r.repeat.push(f),d&&r.clip.push(d),g&&(A||(A=n.BaseValue.of("50%")),r.position.push(new y(g,A)))}return r},t.trimParameter=function(t){return(t=t.trim()).length>1&&('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])?t.substring(1,t.length-1):t},t.parseParameters=function(t){for(var e=[],i=0,r=l.StringUtils.matchAll(t,A);i<r.length;i++){var o=r[i][1].trim();e.push(this.trimParameter(o))}return e},t.parseImage=function(t){var e=t.match(R);if(e){var i=e[1],r=e[2];switch(i){case"url":return d.of(this.parseParameters(r));case"linear-gradient":return g.of(this.parseParameters(r))}}},t.split=function(t){for(var e=[],i=0,r=!1,o=t.length,n=0;n<o;++n){var s=t[n];r?")"===s&&(r=!1):"("===s?r=!0:","===s&&(i<n&&e.push(t.substring(i,n).trim()),i=n+1)}return i<o&&e.push(t.substring(i).trim()),e},t.copyArray=function(t,e){for(var i=0,r=t;i<r.length;i++){var o=r[i];e.push(o)}},t.cloneArray=function(t,e){for(var i=0,r=t;i<r.length;i++){var o=r[i];o?e.push(o.clone()):e.push(void 0)}},t.getFromArray=function(t,e,i){return e>=t.length?i:t[e]},t.prototype.setColor=function(t){this.color=s.Color.of(t)},t.prototype.setAttachment=function(e){var i=t.split(e);this.attachment.length=0;for(var o=0,n=i;o<n.length;o++){n[o];this.attachment.push(r.SCROLL)}},t.prototype.setImage=function(e){var i=t.split(e);this.image.length=0;for(var r=0,o=i;r<o.length;r++){var n=o[r];this.image.push(t.parseImage(n))}},t.prototype.setBlendMode=function(e){var i=t.split(e);this.blendMode.length=0;for(var r=0,o=i;r<o.length;r++){var n=o[r];this.blendMode.push(n)}},t.prototype.setRepeat=function(e){var i=t.split(e);this.repeat.length=0;for(var r=0,n=i;r<n.length;r++){var s=n[r],a=E.of(s)||new E(o.NO_REPEAT,o.NO_REPEAT);this.repeat.push(a)}},t.prototype.setClip=function(e){var i=t.split(e);this.clip.length=0;for(var r=0,o=i;r<o.length;r++){var n=o[r],s=c.EnumUtils.fromString(p,n,p.BORDER_BOX);this.clip.push(s)}},t.prototype.setOrigin=function(e){var i=t.split(e);this.origin.length=0;for(var r=0,o=i;r<o.length;r++){var n=o[r],s=c.EnumUtils.fromString(f,n,f.BORDER_BOX);this.origin.push(s)}},t.prototype.setSize=function(e){var i=t.split(e);this.size.length=0;for(var r=0,o=i;r<o.length;r++){var n=o[r];this.size.push(y.of(n))}},t.prototype.setPosition=function(e){var i=t.split(e);this.position.length=0;for(var r=0,o=i;r<o.length;r++){var n=o[r];this.position.push(y.of(n))}},t.prototype.draw=function(e,i,r,s){if(0===this.image.length&&this.color){i.fillStyle=this.color.toString();var h=void 0;switch(y=t.getFromArray(this.clip,0,p.BORDER_BOX)){case p.PADDING_BOX:h=e.getPaddingRect();break;case p.CONTENT_BOX:h=e.getContentRect();break;default:h=new a.Rect(0,0,e.rect.width,e.rect.height)}return y===p.BORDER_BOX?r.clip(i):s.clip(i),void i.fillRect(h.x,h.y,h.width,h.height)}for(var u=this.image.length-1;u>=0;--u){var c=this.image[u];if(c){var l=void 0;switch(t.getFromArray(this.origin,u,f.BORDER_BOX)){case f.PADDING_BOX:l=e.getPaddingRect();break;case f.CONTENT_BOX:l=e.getContentRect();break;default:l=new a.Rect(0,0,e.rect.width,e.rect.height)}var d=l.width,g=l.height;if(this.size.length>u)d=(A=this.size[u]).x.getValue(l.width),g=A.y.getValue(l.height);var E=c.getSource(d,g);if(E){var y,v=void 0;switch(y=t.getFromArray(this.clip,u,p.BORDER_BOX)){case p.PADDING_BOX:v=e.getPaddingRect();break;case p.CONTENT_BOX:v=e.getContentRect();break;default:v=new a.Rect(0,0,e.rect.width,e.rect.height)}y===p.BORDER_BOX?r.clip(i):s.clip(i),this.color&&u===this.image.length-1&&(i.fillStyle=this.color.toString(),i.fillRect(v.x,v.y,v.width,v.height));var A,R=E.width,m=E.height,T=R,b=m,L=1,O=1,w=l.x,B=l.y;if(this.size.length>u)L=(T=(A=this.size[u]).x.getValue(l.width))/R,O=(b=A.y.getValue(l.height))/m;if(!(T<1||b<1)){var S=o.NO_REPEAT,I=o.NO_REPEAT;this.repeat.length>u&&(S=this.repeat[u].x,I=this.repeat[u].y);var D=0,N=0;if(S===o.SPACE)for(D=1===(P=Math.floor(l.width/T))?l.width:(l.width-P*T)/(P-1),w=l.x;w>v.x;)w-=D+T;else if(S===o.ROUND){var P=Math.max(1,Math.floor(l.width/T+.5));for(L=(T=l.width/P)/R,w=l.x;w>v.x;)w-=T}else{if(this.position.length>u)(C=this.position[u]).x.unit===n.BaseValueUnit.PERCENTAGE?w+=(l.width-T)*C.x.numberValue/100:w+=C.x.numberValue;if(S===o.REPEAT)for(;w>v.x;)w-=T}if(I===o.SPACE)for(N=1===(P=Math.floor(l.height/b))?l.height:(l.height-P*b)/(P-1),B=l.y;B>v.y;)B-=N+b;else if(I===o.ROUND){P=Math.max(1,Math.floor(l.height/b+.5));for(O=(b=l.height/P)/m,B=l.y;B>v.y;)B-=b}else{var C;if(this.position.length>u)(C=this.position[u]).y.unit===n.BaseValueUnit.PERCENTAGE?B+=(l.height-b)*C.y.numberValue/100:B+=C.y.numberValue;if(I===o.REPEAT)for(;B>v.y;)B-=b}var M=v.y+v.height,F=v.x+v.width;do{var x=w;do{this.drawImage(i,E,T,b,L,O,x,B,v),x+=D+T}while(x<F&&S!==o.NO_REPEAT);B+=N+b}while(B<M&&I!==o.NO_REPEAT)}}}}},t.prototype.clone=function(){var e=new t;return e.color=this.color,t.copyArray(this.attachment,e.attachment),t.cloneArray(this.image,e.image),t.copyArray(this.blendMode,e.blendMode),t.copyArray(this.clip,e.clip),t.copyArray(this.origin,e.origin),t.cloneArray(this.repeat,e.repeat),t.cloneArray(this.size,e.size),t.cloneArray(this.position,e.position),e},t.prototype.drawImage=function(t,e,i,r,o,n,s,a,h){var u=0,c=0;s<h.x&&(u=h.x-s,s=h.x),a<h.y&&(c=h.y-a,a=h.y);var l=i-u,p=r-c;l+s>h.width+h.x&&(l=h.width+h.x-s),p+a>h.height+h.y&&(p=h.height+h.y-a),t.drawImage(e,u/o,c/n,l/o,p/n,s,a,l,p)},t}();e.Background=b},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,n,s=i(4),a=i(11),h=i(16);!function(t){t.NORMAL="normal",t.ITALIC="italic",t.OBLIQUE="oblique"}(r=e.FontStyle||(e.FontStyle={})),function(t){t.NORMAL="normal",t.SMALL_CAPS="small-caps"}(o=e.FontVariant||(e.FontVariant={})),function(t){t.NORMAL="normal",t.BOLD="bold",t.BOLDER="bolder",t.W100="100",t.W200="200",t.W300="300",t.W400="400",t.W500="500",t.W600="600",t.W700="700",t.W800="800",t.W900="900"}(n=e.FontWeight||(e.FontWeight={}));var u=/(^|^.*\s+)([0-9]+[a-z]+[^\s]+)($|\s+(.*)$)/,c=function(){function t(t,e,i,s,a,h){this.style=t||r.NORMAL,this.variant=e||o.NORMAL,this.weight=i||n.NORMAL,this.size=s||16,this.lineHeight=a,this.family=h}return t.of=function(e,i){void 0===i&&(i=!1);var s=e.match(u);if(s){for(var c=new t,l=0,p=s[1].split(/\s+/);l<p.length;l++){var f=p[l];if("normal"!==(f=f.toLowerCase())){var d=a.EnumUtils.fromString(r,f,r.NORMAL);if(d===r.NORMAL){var g=a.EnumUtils.fromString(n,f,n.NORMAL);if(g===n.NORMAL){var E=a.EnumUtils.fromString(o,f,o.NORMAL);E===o.NORMAL||(c.variant=E)}else c.weight=g}else c.style=d}}var y=s[2].split(/\//);if(c.size=parseFloat(y[0]),isNaN(c.size))i||console.warn("invalid font:"+e);else{if(!(y.length>1)||(c.lineHeight=h.LineHeight.of(y[1],i),c.lineHeight))return c.family=s[3].trim(),c;i||console.warn("invalid font:"+e)}}else i||console.warn("invalid font:"+e)},t.prototype.toString=function(){return[this.style||r.NORMAL,this.variant||o.NORMAL,this.weight||n.NORMAL,this.lineHeight?this.size+"px/"+this.lineHeight.toString():this.size+"px",this.family||t.DEFAULT_FONT_FAMILY].join(" ")},t.prototype.measureTextWidth=function(t){return s.Runtime.get().measureTextWidth(t,this)},t.prototype.clone=function(){return new t(this.style,this.variant,this.weight,this.size,this.lineHeight,this.family)},t.DEFAULT_FONT_FAMILY="sans-serif",t}();e.Font=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),o=i(33),n=function(){function t(t,e,i,r){this.offsetX=t,this.offsetY=e,this.blur=i,this.color=r}return t.of=function(e,i){void 0===i&&(i=!1);var n=(new o.CSSTokenizer).tokenize(e);if(4===n.length){var s=parseFloat(n[0]),a=parseFloat(n[1]),h=parseFloat(n[2]),u=r.Color.of(n[3],i);if(!(isNaN(s)||isNaN(a)||isNaN(h)||void 0===u))return new t(s,a,h,u);i||console.warn("invalid shadow:"+e)}else i||console.warn("invalid shadow:"+e)},t.prototype.toString=function(){return"[Shadow ("+this.color.toString()+" "+this.offsetX+" "+this.offsetY+" "+this.blur+")]"},t.prototype.clone=function(){return new t(this.offsetX,this.offsetY,this.blur,this.color)},t.prototype.isEnable=function(){return this.color.a>0&&(0!==this.offsetX||0!==this.offsetY||0!==this.blur)},t}();e.Shadow=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(13),o=Math.PI/180,n=function(){function t(t,e,i,r,o,n){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===n&&(n=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.setValues(t,e,i,r,o,n)}return t.prototype.setValues=function(t,e,i,r,o,n){return void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===n&&(n=0),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=n,this},t.prototype.append=function(t,e,i,r,o,n){var s=this.a,a=this.b,h=this.c,u=this.d;return 1===t&&0===e&&0===i&&1===r||(this.a=s*t+h*e,this.b=a*t+u*e,this.c=s*i+h*r,this.d=a*i+u*r),this.tx=s*o+h*n+this.tx,this.ty=a*o+u*n+this.ty,this},t.prototype.prepend=function(t,e,i,r,o,n){var s=this.a,a=this.c,h=this.tx;return this.a=t*s+i*this.b,this.b=e*s+r*this.b,this.c=t*a+i*this.d,this.d=e*a+r*this.d,this.tx=t*h+i*this.ty+o,this.ty=e*h+r*this.ty+n,this},t.prototype.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.prototype.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.prototype.appendTransform=function(t,e,i,r,n,s,a,h,u){var c,l;if(n%360){var p=n*o;c=Math.cos(p),l=Math.sin(p)}else c=1,l=0;return s||a?(s*=o,a*=o,this.append(Math.cos(a),Math.sin(a),-Math.sin(s),Math.cos(s),t,e),this.append(c*i,l*i,-l*r,c*r,0,0)):this.append(c*i,l*i,-l*r,c*r,t,e),(h||u)&&(this.tx-=h*this.a+u*this.c,this.ty-=h*this.b+u*this.d),this},t.prototype.prependTransform=function(t,e,i,r,n,s,a,h,u){var c,l;if(n%360){var p=n*o;c=Math.cos(p),l=Math.sin(p)}else c=1,l=0;return(h||u)&&(this.tx-=h,this.ty-=u),s||a?(s*=o,a*=o,this.prepend(c*i,l*i,-l*r,c*r,0,0),this.prepend(Math.cos(a),Math.sin(a),-Math.sin(s),Math.cos(s),t,e)):this.prepend(c*i,l*i,-l*r,c*r,t,e),this},t.prototype.rotate=function(t){t*=o;var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.b;return this.a=r*e+this.c*i,this.b=n*e+this.d*i,this.c=-r*i+this.c*e,this.d=-n*i+this.d*e,this},t.prototype.skew=function(t,e){return t*=o,e*=o,this.append(Math.cos(e),Math.sin(e),-Math.sin(t),Math.cos(t),0,0),this},t.prototype.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},t.prototype.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},t.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,o=this.tx,n=t*r-e*i;return this.a=r/n,this.b=-e/n,this.c=-i/n,this.d=t/n,this.tx=(i*this.ty-r*o)/n,this.ty=-(t*this.ty-e*o)/n,this},t.prototype.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.prototype.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},t.prototype.transformPoint=function(t,e){var i=new r.Point(0,0);return i.x=t*this.a+e*this.c+this.tx,i.y=t*this.b+e*this.d+this.ty,i},t.prototype.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.prototype.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.prototype.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t}();e.Matrix2D=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(26),o=i(3),n=function(){function t(){}return t.drawElement=function(t,e){var i=t.style;i.compositeOperation&&(e.globalCompositeOperation=i.compositeOperation);var n,s=i.borderTop?i.borderTop.width:0,a=i.borderRight?i.borderRight.width:0,h=i.borderBottom?i.borderBottom.width:0,u=i.borderLeft?i.borderLeft.width:0,c=(new r.RoundRect).applySize(t.rect.width,t.rect.height).applyRadius(i.borderRadiusTop,i.borderRadiusRight,i.borderRadiusBottom,i.borderRadiusLeft);if(n=s>0||a>0||h>0||u>0?c.applyBorder(s,a,h,u):c,i.shadow&&i.shadow.isEnable()){e.save(),e.shadowBlur=i.shadow.blur,e.shadowColor=i.shadow.color.toString(),e.shadowOffsetX=i.shadow.offsetX,e.shadowOffsetY=i.shadow.offsetY;var l=Math.abs(i.shadow.offsetX)+i.shadow.blur,p=Math.abs(i.shadow.offsetY)+i.shadow.blur,f=new r.RoundRect(c.x1-l,c.y1-p,c.x2+l,c.y2+p);e.beginPath(),f.makePath(e,!0,!0),c.makePath(e,!1,!1),e.closePath(),e.clip(),e.fillStyle="black",e.beginPath(),c.makePath(e,!0,!0),e.closePath(),e.fill(),e.restore()}if(e.save(),t.drawBackground(e,c,n),e.restore(),s>0||a>0||h>0||u>0){var d=i.borderTop?i.borderTop.color:void 0,g=i.borderRight?i.borderRight.color:void 0,E=i.borderBottom?i.borderBottom.color:void 0,y=i.borderLeft?i.borderLeft.color:void 0,v=[];d&&v.push(d),g&&v.push(g),E&&v.push(E),y&&v.push(y);for(var A=v[0],R=!0,m=1;m<v.length;++m)A.equals(v[m])||(R=!1);R?(e.beginPath(),c.makePath(e,!0,!0),n.makePath(e,!1,!1),e.closePath(),e.fillStyle=A.toString(),e.fill()):(y&&(e.save(),e.beginPath(),e.moveTo(c.x1,c.y1),d||e.lineTo(n.x1+n.leftTopRadiusX,c.y1),e.lineTo(n.x1+n.leftTopRadiusX,n.y1+n.leftTopRadiusY),e.lineTo(n.x1+n.leftBottomRadiusX,n.y2-n.leftBottomRadiusY),E||e.lineTo(n.x1+n.leftBottomRadiusX,c.y2),e.lineTo(c.x1,c.y2),e.closePath(),e.clip(),e.beginPath(),c.makePath(e,!0,!0),n.makePath(e,!1,!1),e.closePath(),e.fillStyle=y.toString(),e.fill(),e.restore()),d&&(e.save(),e.beginPath(),e.moveTo(c.x2,c.y1),g||e.lineTo(c.x2,c.y1+c.rightTopRadiusY),e.lineTo(n.x2-n.rightTopRadiusX,n.y1+n.rightTopRadiusY),e.lineTo(n.x1+n.leftTopRadiusX,n.y1+n.leftTopRadiusY),y||e.lineTo(c.x1,c.y1+c.leftTopRadiusY),e.lineTo(c.x1,c.y1),e.closePath(),e.clip(),e.beginPath(),c.makePath(e,!0,!0),n.makePath(e,!1,!1),e.closePath(),e.fillStyle=d.toString(),e.fill(),e.restore()),g&&(e.save(),e.beginPath(),e.moveTo(c.x2,c.y2),E||e.lineTo(c.x2-c.rightBottomRadiusX,c.y2),e.lineTo(n.x2-n.rightBottomRadiusX,n.y2-n.rightBottomRadiusY),e.lineTo(n.x2-n.rightTopRadiusX,n.y1+n.rightTopRadiusY),d||e.lineTo(n.x2-n.rightTopRadiusX,c.y1),e.lineTo(c.x2,c.y1),e.closePath(),e.clip(),e.beginPath(),c.makePath(e,!0,!0),n.makePath(e,!1,!1),e.closePath(),e.fillStyle=g.toString(),e.fill(),e.restore()),E&&(e.save(),e.beginPath(),e.moveTo(c.x1,c.y2),y||e.lineTo(c.x1,c.y2-c.leftBottomRadiusY),e.lineTo(n.x1+n.leftBottomRadiusX,n.y2-n.leftBottomRadiusY),e.lineTo(n.x2-n.rightBottomRadiusX,n.y2-n.rightBottomRadiusY),g||e.lineTo(c.x2,c.y2-c.rightBottomRadiusY),e.lineTo(c.x2,c.y2),e.closePath(),e.clip(),e.beginPath(),c.makePath(e,!0,!0),n.makePath(e,!1,!1),e.closePath(),e.fillStyle=E.toString(),e.fill(),e.restore()))}t.style.overflow===o.Overflow.HIDDEN?(e.save(),n.clip(e),t.drawContent(e),e.restore()):t.drawContent(e)},t}();e.DrawUtils=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(6),o=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.leftTopRadiusX=0,this.leftTopRadiusY=0,this.rightTopRadiusX=0,this.rightTopRadiusY=0,this.rightBottomRadiusX=0,this.rightBottomRadiusY=0,this.leftBottomRadiusX=0,this.leftBottomRadiusY=0,this.x1=t,this.y1=e,this.x2=i,this.y2=r}return t.prototype.toRect=function(){return new r.Rect(this.x1,this.y1,this.x2-this.x1+1,this.y2-this.y1+1)},t.prototype.applySize=function(t,e){return this.x2=this.x1+t-1,this.y2=this.y1+e-1,this},t.prototype.applyRadius=function(t,e,i,r){var o=this.x2-this.x1+1,n=this.y2-this.y1+1;return t&&(this.leftTopRadiusX=t.getValue(o),this.leftTopRadiusY=t.getValue(n)),e&&(this.rightTopRadiusX=e.getValue(o),this.rightTopRadiusY=e.getValue(n)),i&&(this.rightBottomRadiusX=i.getValue(o),this.rightBottomRadiusY=i.getValue(n)),r&&(this.leftBottomRadiusX=r.getValue(o),this.leftBottomRadiusY=r.getValue(n)),this},t.prototype.applyBorder=function(e,i,r,o){if(0===e&&0===i&&0===r&&0===o)return this;var n=new t;return n.x1=this.x1+o,n.y1=this.y1+e,n.x2=this.x2-i,n.y2=this.y2-r,n.leftTopRadiusX=Math.max(0,this.leftTopRadiusX-o),n.leftTopRadiusY=Math.max(0,this.leftTopRadiusY-e),0!==n.leftTopRadiusX&&0!==n.leftTopRadiusY||(n.leftTopRadiusX=n.leftTopRadiusY=0),n.rightTopRadiusX=Math.max(0,this.rightTopRadiusX-i),n.rightTopRadiusY=Math.max(0,this.rightTopRadiusY-e),0!==n.rightTopRadiusX&&0!==n.rightTopRadiusY||(n.rightTopRadiusX=n.rightTopRadiusY=0),n.rightBottomRadiusX=Math.max(0,this.rightBottomRadiusX-i),n.rightBottomRadiusY=Math.max(0,this.rightBottomRadiusY-r),0!==n.rightBottomRadiusX&&0!==n.rightBottomRadiusY||(n.rightBottomRadiusX=n.rightBottomRadiusY=0),n.leftBottomRadiusX=Math.max(0,this.leftBottomRadiusX-o),n.leftBottomRadiusY=Math.max(0,this.leftBottomRadiusY-r),0!==n.leftBottomRadiusX&&0!==n.leftBottomRadiusY||(n.leftBottomRadiusX=n.leftBottomRadiusY=0),n},t.prototype.makePath=function(t,e,i){var r=this.x1,o=this.y1,n=this.x2+1,s=this.y2+1;i?(e?t.moveTo(r,o+this.leftTopRadiusY):t.lineTo(r,o+this.leftTopRadiusY),this.arcTo(r,o+this.leftTopRadiusY,r,o,r+this.leftTopRadiusX,o,t),this.arcTo(n-this.rightTopRadiusX,o,n,o,n,o+this.rightTopRadiusY,t),this.arcTo(n,s-this.rightBottomRadiusY,n,s,n-this.rightBottomRadiusX,s,t),this.arcTo(r+this.leftBottomRadiusX,s,r,s,r,s-this.leftBottomRadiusY,t),0!==this.leftTopRadiusX&&0!==this.leftTopRadiusY?t.lineTo(r,o+this.leftTopRadiusY):t.lineTo(r,o)):(e?t.moveTo(r,o+this.leftTopRadiusY):t.lineTo(r,o+this.leftTopRadiusY),this.arcTo(r,s-this.leftBottomRadiusY,r,s,r+this.leftBottomRadiusX,s,t),this.arcTo(n-this.rightBottomRadiusX,s,n,s,n,s-this.rightBottomRadiusY,t),this.arcTo(n,o+this.rightTopRadiusY,n,o,n-this.rightTopRadiusX,o,t),this.arcTo(r+this.leftTopRadiusX,o,r,o,r,o+this.leftTopRadiusY,t))},t.prototype.clip=function(t){return t.beginPath(),this.makePath(t,!0,!0),t.closePath(),t.clip(),this},t.prototype.arcTo=function(t,e,i,r,o,n,s){s.lineTo(t,e);var a=Math.abs(t-o),h=Math.abs(e-n);a<1e-6&&h<1e-6||(a<1e-6||h<1e-6?s.lineTo(o,n):Math.abs(a-h)<1e-6?s.arcTo(i,r,o,n,a):s.quadraticCurveTo(i,r,o,n))},t}();e.RoundRect=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.init=function(){for(var t=0;t<256;t++){for(var e=t,i=0;i<8;i++)e=0!=(1&e)?3988292384^e>>>1:e>>>1;this.TABLE[t]=e}},t.calculate=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length-e);for(var r=-1,o=e,n=e+i;o<n;o++)r=r>>>8^this.TABLE[255&(r^t[o])];return-1^r},t.TABLE=new Uint32Array(256),t}();e.CRC32=r,r.init()},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),s=function(t){function e(e){var i=t.call(this,e)||this;return i.text="",i.text=e&&e.text||"",i}return o(e,t),e.prototype.setText=function(t){this.text=t},e.prototype.getText=function(){return this.text},e.prototype.drawContent=function(t){if(""!==this.text&&this.style.font){var e=this.getContentRect();t.save(),t.textBaseline="middle",t.textAlign=this.style.textAlign,t.fillStyle=this.style.color.toString(),t.font=this.style.font.toString();var i,r=this.style.textBorder&&this.style.textBorder.isEnable();r&&(t.strokeStyle=this.style.textBorder.color.toString(),t.lineWidth=this.style.textBorder.width),this.style.textShadow&&this.style.textShadow.isEnable()&&(t.shadowBlur=this.style.textShadow.blur,t.shadowColor=this.style.textShadow.color.toString(),t.shadowOffsetX=this.style.textShadow.offsetX,t.shadowOffsetY=this.style.textShadow.offsetY),i=this.style.textAlign===n.TextAlign.RIGHT?e.x+e.width:this.style.textAlign===n.TextAlign.CENTER?e.x+e.width/2:e.x;var o=e.y,s=this.text.split("\n"),a=this.getLineHeight();o+=a/2;for(var h=0,u=s;h<u.length;h++){var c=u[h];""!==c.trim()&&(r?this.style.textBorderPosition===n.TextBorderPosition.OUTER?(t.strokeText(c,i,o),t.fillText(c,i,o)):(t.fillText(c,i,o),t.strokeText(c,i,o)):t.fillText(c,i,o)),o+=a}return t.restore(),!0}},e.prototype.layout=function(){if(t.prototype.layout.call(this),this.style.font){for(var e=this.text.split("\n"),i=this.getContentRect(),r=0,o=0,n=e;o<n.length;o++){var s=n[o];r=Math.max(r,this.style.font.measureTextWidth(s))}r>i.width&&(this.rect.width+=r-i.width);var a=this.getLineHeight()*e.length;a>i.height&&(this.rect.height+=a-i.height)}},e}(i(1).XObject);e.Text=s},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),s=i(7),a=function(t){function e(e){var i=t.call(this,e)||this;return e&&e.attributes&&(e.attributes.src&&(i.src=e.attributes.src,s.ResourceRegistry.DefaultInstance.add(i.src,s.ResourceType.IMAGE)),e.attributes.sourcerect&&(i.sourceRect=n.Rect.of(e.attributes.sourcerect))),i}return o(e,t),e.prototype.setSrc=function(t){return this.src=t,this},e.prototype.setSourceRect=function(t){return this.sourceRect=t,this},e.prototype.drawContent=function(t){if(this.src){var e=s.ResourceRegistry.DefaultInstance.get(this.src);if(e){var i=this.getContentRect();this.sourceRect?t.drawImage(e,this.sourceRect.x,this.sourceRect.y,this.sourceRect.width,this.sourceRect.height,i.x,i.y,i.width,i.height):t.drawImage(e,i.x,i.y,i.width,i.height)}}},e}(i(1).XObject);e.Img=a},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(19),a=i(4),h=i(20),u=i(10),c=i(17),l=i(1);!function(t){t.NEVER="never",t.ALWAYS="always"}(n=e.StageLayoutPolicy||(e.StageLayoutPolicy={}));var p=function(t){function e(e,i){void 0===i&&(i={});var r=t.call(this)||this;for(var o in r.option={fps:60,layoutPolicy:n.NEVER,autoClear:!0},r.hovedChildren=[],r.started=!1,i)r.option[o]=i[o];return r.canvas=e,r.css({width:"100%",height:"100%",left:0,top:0}),i.style&&r.css(i.style),r.enableEvents(),r.ticker=new h.Ticker(r.option.fps),r.animationFactory=new s.AnimationFactory,r.ticker.addEventListener("tick",(function(t){r.animationFactory.onInterval()})),r}return o(e,t),e.prototype.start=function(){var t=this;this.started||(this.started=!0,this.layout(),this.ticker.addEventListener("tick",(function(e){t.update()})))},e.prototype.enableEvents=function(){a.Runtime.get().enableEvents(this)},e.prototype.reportHovedChild=function(t){for(var e=0,i=this.hovedChildren;e<i.length;e++){if(i[e]===t)return}this.hovedChildren.push(t)},e.prototype.handleActionEvent=function(t,e,i){if(this.isVisible())switch(e=this.globalToLocal(e.x,e.y),t){case"mousedown":this.handleTouchDownEvent(e,i);break;case"mouseup":this.handleTouchUpEvent(e,i);break;case"mousemove":this.handleTouchMoveEvent(e,i);break;case"mouseleave":this.handleMouseLeaveEvent(e,i)}},e.prototype.update=function(){if(this.canvas&&this.isVisible()){var t=this.canvas.getContext("2d");t&&(this.option.layoutPolicy===n.ALWAYS&&this.layout(),this.option.autoClear&&t.clearRect(0,0,this.getWidth(),this.getHeight()),t.save(),this.updateContext(t),this.draw(t,!1),t.restore())}},e.prototype.calculateSize=function(){if(this.canvas&&this.isVisible()){var t=this.canvas.width,e=this.canvas.height;u.LayoutUtils.updateSize(this,t,e),u.LayoutUtils.updatePositionForAbsoluteElement(this,t,e)}},e.prototype.animate=function(t,e){return void 0===e&&(e=!0),this.animationFactory.create(t,e)},e.prototype.toString=function(){return"[Stage (id="+this.id+")]"},e.prototype.dispatchActionEvent=function(t,e,i,r,o){var n=new l.XActionEvent(t,e,i);n.stage=this,n.stageX=r.x,n.stageY=r.y,n.nativeEvent=o,t.dispatchEvent(n)},e.prototype.handleMouseLeaveEvent=function(t,e){for(var i=0,r=this.hovedChildren;i<r.length;i++){var o=r[i];o.actionState.inBounds=!1,this.dispatchActionEvent(o,"leave",!1,t,e)}this.hovedChildren=[]},e.prototype.handleTouchDownEvent=function(t,e){var i=this.getObjectUnderPoint(t.x,t.y,!0);i?(this.dispatchActionEvent(i,"pressdown",!0,t,e),this.pressedChild=i):this.pressedChild=void 0},e.prototype.handleTouchUpEvent=function(t,e){var i=this.getObjectUnderPoint(t.x,t.y,!0);i&&this.dispatchActionEvent(i,"touchup",!0,t,e),this.pressedChild&&(this.pressedChild.actionState.pressed=!1,this.dispatchActionEvent(this.pressedChild,"pressup",!0,t,e),i&&(i===this.pressedChild||this.pressedChild.isChildOf(i))&&this.dispatchActionEvent(i,"click",!0,t,e)),this.pressedChild=void 0},e.prototype.handleTouchMoveEvent=function(t,e){t=this.globalToLocal(t.x,t.y);var i=this.getObjectUnderPoint(t.x,t.y,!0);if(i){for(var r=[],o=i,n=void 0;o;)o.actionState.inBounds||(o.actionState.inBounds=!0,this.dispatchActionEvent(o,"enter",!1,t,e)),r.push(o),void 0===n&&o.style.cursor&&(n=o.style.cursor),o=o.parent;this.canvas.style&&(this.canvas.style.cursor=n||"auto"),this.dispatchActionEvent(i,"move",!0,t,e);for(var s=0,a=this.hovedChildren;s<a.length;s++){for(var h=a[s],u=!1,c=0,l=r;c<l.length;c++){if(l[c]===h){u=!0;break}}u||(h.actionState.inBounds=!1,this.dispatchActionEvent(h,"leave",!1,t,e))}this.hovedChildren=r}else{this.canvas.style&&(this.canvas.style.cursor=this.style.cursor||"auto");for(var p=0,f=this.hovedChildren;p<f.length;p++){(h=f[p]).actionState.inBounds=!1,this.dispatchActionEvent(h,"leave",!1,t,e)}this.hovedChildren.length=0}this.pressedChild&&this.dispatchActionEvent(this.pressedChild,"pressmove",!0,t,e)},e}(c.Container);e.Stage=p},function(t,e,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.NAME_START=0]="NAME_START",t[t.NAME=1]="NAME",t[t.NAME_END=2]="NAME_END",t[t.PARAMETER_START=3]="PARAMETER_START",t[t.PARAMETER=4]="PARAMETER",t[t.PARAMETER_END=5]="PARAMETER_END",t[t.END=6]="END"}(r||(r={}));var o=function(){function t(){}return t.isBlank=function(t){return" "===t||"\t"===t||"\r"===t||"\n"===t},t.parse=function(t,e){void 0===e&&(e=!1);for(var i={name:void 0,arguments:[]},o=r.NAME_START,n="",s=0,a=t.length,h=0;h<a;++h){var u=t[h];switch(o){case r.NAME_START:this.isBlank(u)||(s=h,o=r.NAME);break;case r.NAME:if(this.isBlank(u)||")"===u)return void(e||console.warn("invalid function:"+t));"("===u&&(i.name=t.substring(s,h),o="("===u?r.PARAMETER_START:r.NAME_END);break;case r.NAME_END:if("("===u){o=r.PARAMETER_START;break}if(!this.isBlank(u))return void(e||console.warn("invalid function:"+t));case r.PARAMETER_START:if(this.isBlank(u))break;if('"'===u||"'"===u)o=r.PARAMETER,s=h+1,n=u;else if(")"===u)o=r.END;else{if(","===u)return void(e||console.warn("invalid function:"+t));o=r.PARAMETER,s=h,n=""}break;case r.PARAMETER:""!==n?n===u&&(o=r.PARAMETER_END,i.arguments.push(t.substring(s,h)),n=""):this.isBlank(u)?(o=r.PARAMETER_END,i.arguments.push(t.substring(s,h)),n=""):","===u?(o=r.PARAMETER_START,i.arguments.push(t.substring(s,h)),n=""):")"===u&&(o=r.END,i.arguments.push(t.substring(s,h)),n="");break;case r.PARAMETER_END:if(this.isBlank(u))break;","===u?o=r.PARAMETER_START:")"===u&&(o=r.END);break;case r.END:if(!this.isBlank(u))return void(e||console.warn("invalid function:"+t))}}if(o===r.END)return i;e||console.warn("invalid function:"+t)},t}();e.FunctionParser=o},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),s=function(t){function e(e,i,r){var o=t.call(this,i)||this;return o.target=e,o.response=r,o}return o(e,t),e}(n.Event),a=function(t){function e(e,i,r){void 0===i&&(i="GET"),void 0===r&&(r="");var o=t.call(this)||this;return o.url=e,o.method=i,o.responseType=r,o.totalBytes=0,o.loadedBytes=0,o.download(),o}return o(e,t),e.prototype.download=function(){var t=this;this.xhr||(this.xhr=new XMLHttpRequest,this.xhr.responseType=this.responseType,this.xhr.open(this.method,this.url,!0),this.xhr.onload=function(){200===t.xhr.status&&t.dispatchEvent(new s(t,"load",t.xhr.response))},this.xhr.onerror=function(e){t.dispatchEvent(new s(t,"error"))},this.xhr.onprogress=function(e){e.lengthComputable&&(t.loadedBytes=e.loaded,t.totalBytes=e.total,t.dispatchEvent(new s(t,"progress")))},this.xhr.send())},e}(n.EventDispatcher);e.Loader=a},function(t,e,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.START=0]="START",t[t.VALUE=1]="VALUE",t[t.FUNC=2]="FUNC"}(r||(r={}));var o=function(){function t(t){void 0===t&&(t=""),this.splitter="",this.splitter=t}return t.prototype.isSplitter=function(t){return" "===t||"\t"===t||"\r"===t||"\n"===t||this.splitter.indexOf(t)>=0},t.prototype.tokenize=function(t){for(var e=t.length,i=[],o=r.START,n="",s=0,a=0;a<e;++a){var h=t[a];switch(o){case r.START:this.isSplitter(h)||(s=a,o=r.VALUE,n="'"===h||'"'===h?h:"");break;case r.VALUE:""!==n?h===n&&(o=r.START,i.push(t.substring(s+1,a))):"("===h?o=r.FUNC:this.isSplitter(h)&&(o=r.START,i.push(t.substring(s,a)));break;case r.FUNC:")"===h&&(o=r.START,i.push(t.substring(s,a+1)))}}return o!==r.START&&(""===n?i.push(t.substring(s)):i.push(t.substring(s+1))),i},t}();e.CSSTokenizer=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(27),o=function(){this.duration=0,this.numPlays=0,this.frames=[]};e.ApngData=o;var n=function(){this.left=0,this.top=0,this.width=0,this.height=0,this.delay=0,this.disposeOp=0,this.blendOp=0,this.dataParts=[]};e.ApngFrame=n;var s=new Uint8Array([137,80,78,71,13,10,26,10]);function a(t){return t.charCodeAt(0)<<24|t.charCodeAt(1)<<16|t.charCodeAt(2)<<8|t.charCodeAt(3)}function h(t){return[t>>>24&255,t>>>16&255,t>>>8&255,255&t]}var u=a("IHDR"),c=a("acTL"),l=a("IDAT"),p=a("fcTL"),f=a("fdAT"),d=a("IEND"),g=function(){function t(){}return t.parse=function(t,e){void 0===e&&(e=!1);for(var i=new Uint8Array(t),r=0;r<s.length;++r)if(s[r]!==i[r])return void(e||console.warn("not a png file"));for(var a=this.toChunks(i),g=[],E=[],y=null,v=null,A=new o,R=new DataView(i.buffer),m=0,T=a;m<T.length;m++){var b=T[m];switch(b.type){case u:y=i.subarray(b.start+8,b.end-4),A.width=R.getUint32(b.start+8),A.height=R.getUint32(b.start+8+4);break;case c:A.numPlays=R.getUint32(b.start+8);break;case p:v=new n,A.frames.push(v),v.width=R.getUint32(b.start+8+4),v.height=R.getUint32(b.start+8+8),v.left=R.getUint32(b.start+8+12),v.top=R.getUint32(b.start+8+16);var L=R.getUint16(b.start+8+20),O=R.getUint16(b.start+8+22);0===O&&(O=100),v.delay=1e3*L/O,v.delay<=10&&(v.delay=100),A.duration+=v.delay,v.disposeOp=R.getUint8(b.start+8+24),v.blendOp=R.getUint8(b.start+8+25),v.dataParts=[],1===A.frames.length&&2===v.disposeOp&&(v.disposeOp=1);break;case f:v?v.dataParts.push(this.makeChunk(l,i.subarray(b.start+12,b.end-4))):e||console.warn("invalid fdAT chunk before frame");break;case l:v?v.dataParts.push(this.makeChunk(l,i.subarray(b.start+8,b.end-4))):e||console.warn("invalid IDAT chunk before frame");break;case d:E.push(i.subarray(b.start,b.end));break;default:g.push(i.subarray(b.start,b.end))}}if(0!==A.frames.length){for(var w=new Blob(g),B=new Blob(E),S=function(t){var e=[];e.push(s),y.set(h(t.width),0),y.set(h(t.height),4),e.push(I.makeChunk(u,y)),e.push(w);for(var i=0,r=t.dataParts;i<r.length;i++){var o=r[i];e.push(o)}e.push(B),delete t.dataParts;var n=URL.createObjectURL(new Blob(e,{type:"image/png"}));e=null;var a=new Image;t.image=a,a.onload=function(){URL.revokeObjectURL(a.src)},a.src=n},I=this,D=0,N=A.frames;D<N.length;D++){S(N[D])}return A}e||console.warn("not a png file")},t.toChunks=function(t){for(var e=[],i=new DataView(t.buffer),r=8;r<=t.length-12;){var o=i.getUint32(r);if(o<0||r+12+o>t.length)return void console.warn("invalid chunk length, position="+r+" length="+o+" total="+t.length);var n=i.getUint32(r+4);if(e.push({type:n,start:r,end:r+o+12}),r+=12+o,n===d)break}return e},t.makeChunk=function(t,e){var i=new Uint8Array(e.length+12),o=new DataView(i.buffer);o.setUint32(0,e.length),o.setUint32(4,t),i.set(e,8);var n=r.CRC32.calculate(i,4,e.length+4);return o.setUint32(e.length+8,n),i},t}();e.ApngParser=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,n=i(36),s=i(17),a=i(29),h=i(18),u=i(28),c=i(3);!function(t){t[t.START=1]="START",t[t.TAG=2]="TAG",t[t.TEXT=3]="TEXT"}(r||(r={})),function(t){t[t.PENDING=0]="PENDING",t[t.START=1]="START",t[t.NAME=2]="NAME",t[t.EQ=3]="EQ",t[t.VALUE=4]="VALUE",t[t.VALUE_STARTED=5]="VALUE_STARTED"}(o||(o={}));var l=function(){function t(){}return t.registerTag=function(t,e){this.tagMap[t.toLowerCase()]=e},t.prototype.parse=function(t){for(var e=[],i=0,r=this.parseHtml(t);i<r.length;i++){var o=r[i],n=this.node2Component(o);n&&e.push(n)}return e},t.prototype.parseHtml=function(t){for(var e=[],i=[],n=t.length,s=r.START,a=0,h=null,u=!1,c=null,l=o.PENDING,p=0,f="",d=null,g={},E=0;E<n;++E){var y=t[E];switch(s){case r.START:"<"===y?(a=E,h=null,s=r.TAG,l=o.PENDING,p=0,f="",d=null,g={}):(a=E,s=r.TEXT);break;case r.TAG:if(h||!this.isSplitter(y)&&">"!==y&&"/"!==y&&'"'!==y&&"'"!==y||(h=t.substring(a+1,E),l=o.START),null===h)break;if(u?y===c&&(u=!1):"'"!==y&&'"'!==y||(u=!0,c=y),">"!==y||u)switch(l){case o.START:this.isSplitter(y)||"/"===y||(p=E,l=o.NAME),d=null;break;case o.NAME:this.isSplitter(y)?(f=t.substring(p,E),l=o.EQ):"="===y&&(f=t.substring(p,E),p=E+1,l=o.VALUE);break;case o.EQ:if(this.isSplitter(y))break;"="===y?(l=o.VALUE,p=E+1):(this.addAttr(g,f,""),l=o.START);break;case o.VALUE:if(this.isSplitter(y))break;'"'===y||"'"===y?(d=y,p=E+1):(d=null,p=E),l=o.VALUE_STARTED;break;case o.VALUE_STARTED:var v=!1,A=E;d?y===d&&(v=!0):!d&&this.isSplitter(y)&&(v=!0),v&&(this.addAttr(g,f,t.substring(p,A)),f="",l=o.START)}else{switch(l){case o.NAME:f=t.substring(p,E),this.addAttr(g,f,"");break;case o.EQ:this.addAttr(g,f,"");break;case o.VALUE:case o.VALUE_STARTED:this.addAttr(g,f,t.substring(p,E))}if("!--"===h.substring(0,3)){E-a>=6&&"--"===t.substring(E-2,E)&&(s=r.START);break}if(h&&"/"===h[0]){h=h.substring(1);for(var R=!1,m=0,T=i;m<T.length;m++){T[m].tag===h&&(R=!0)}if(R)for(;i.length>0;){if(!(b=i.pop())||b.tag===h)break}s=r.START}else{var b={children:[],tag:h,attributes:g};g={},i.length>0?(b.parent=i[i.length-1],i[i.length-1].children.push(b)):e.push(b),this.isCloseTag(h)||i.push(b),s=r.START}}break;case r.TEXT:if("<"===y){if(a<E)if((L=t.substring(a,E).trim()).length>0){b={children:[],tag:"TEXT",text:L,attributes:{}};i.length>0?(b.parent=i[i.length-1],i[i.length-1].children.push(b)):e.push(b)}s=r.TAG,h=null,a=E,l=o.PENDING,p=0,f="",d=null,g={}}}}switch(s){case r.TEXT:var L;if(a<E)if((L=t.substring(a,E).trim()).length>0){b={children:[],tag:"TEXT",text:L,attributes:{}};i.length>0?(b.parent=i[i.length-1],i[i.length-1].children.push(b)):e.push(b)}}for(var O=0,w=e;O<w.length;O++){b=w[O];this.trimTextNode(b)}return e},t.prototype.trimTextNode=function(t){if(1===t.children.length&&"TEXT"===t.children[0].tag)t.text=t.children[0].text,t.children.length=0;else for(var e=0,i=t.children;e<i.length;e++){var r=i[e];this.trimTextNode(r)}},t.prototype.node2Component=function(e){var i=t.tagMap[e.tag.toLowerCase()];if(i){var r=c.Style.of(e.attributes.style||""),o=new i({attributes:e.attributes,style:r,text:e.text});if(e.children.length>0)if(o instanceof s.Container)for(var n=0,a=e.children;n<a.length;n++){var h=a[n],u=this.node2Component(h);u&&o.addChild(u)}else console.warn("component is not a container:"+o);return o}console.warn("unknow tag:"+e.tag.toLowerCase())},t.prototype.isSplitter=function(t){return" "===t||"\r"===t||"\n"===t||"\t"===t},t.prototype.isCloseTag=function(t){return"img"===t},t.prototype.addAttr=function(t,e,i){t[e.toLowerCase()]=i},t.tagMap={},t}();e.HtmlParser=l,l.registerTag("text",u.Text),l.registerTag("container",s.Container),l.registerTag("div",s.Container),l.registerTag("img",a.Img),l.registerTag("sprite",h.Sprite),l.registerTag("apng",n.Apng)},function(t,e,i){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),s=function(t){function e(e){var i=t.call(this,e)||this;return e&&e.attributes&&e.attributes.src&&n.ResourceRegistry.DefaultInstance.add(e.attributes.src,n.ResourceType.APNG).then((function(t){i.setOption(t).play()})),i}return o(e,t),e}(i(18).Sprite);e.Apng=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.delayHandler=0,this.paused=!1,this.delayTime=t}return t.prototype.call=function(t){this.func=t,this.paused||(this.delayHandler&&(clearTimeout(this.delayHandler),this.delayHandler=0),this.start())},t.prototype.pause=function(){this.delayHandler&&(clearTimeout(this.delayHandler),this.delayHandler=0),this.paused=!0},t.prototype.resume=function(){this.paused&&(this.paused=!1,this.func&&this.start())},t.prototype.cancel=function(){this.delayHandler&&(clearTimeout(this.delayHandler),this.delayHandler=0),this.func=void 0,this.paused=!1},t.prototype.start=function(){var t=this;this.func&&(this.delayHandler=setTimeout((function(){t.delayHandler=0,t.func&&(t.func(),t.func=void 0)}),this.delayTime))},t}();e.Delay=r}])}));